###############################################################################
#                                                                             #
# IAR C/C++ Compiler V8.20.2.41139 for 8051             12/Apr/2014  12:17:58 #
# Copyright 2004-2013 IAR Systems AB.                                         #
#                                                                             #
#    Core               =  plain                                              #
#    Code model         =  banked                                             #
#    Data model         =  large                                              #
#    Calling convention =  xdata reentrant                                    #
#    Constant location  =  data_rom                                           #
#    Dptr setup         =  1,16                                               #
#                                                                             #
#    Source file        =  D:\Texas Instruments\Z-Stack Lighting              #
#                          1.0.2\Components\mt\MT_AF.c                        #
#    Command line       =  -f "D:\Texas Instruments\Z-Stack Lighting          #
#                          1.0.2\Projects\zstack\ZLL\SampleApp\CC253x\..\..\. #
#                          .\Tools\CC2530DB\f8wRouter.cfg" (-DCPU32MHZ        #
#                          -DROOT=__near_func -DMAC_CFG_APP_PENDING_QUEUE=TRU #
#                          E -DMAC_CFG_TX_DATA_MAX=5 -DMAC_CFG_TX_MAX=8       #
#                          -DMAC_CFG_RX_MAX=5 -DRTR_NWK) -f "D:\Texas         #
#                          Instruments\Z-Stack Lighting                       #
#                          1.0.2\Projects\zstack\ZLL\SampleApp\CC253x\..\..\. #
#                          .\Tools\CC2530DB\f8wConfig.cfg" (-DZIGBEEPRO       #
#                          -DSECURE=1 -DZG_SECURE_DYNAMIC=0 -DREFLECTOR       #
#                          -DDEFAULT_CHANLIST=0x00000800                      #
#                          -DZDAPP_CONFIG_PAN_ID=0xFFFF                       #
#                          -DNWK_START_DELAY=100 -DEXTENDED_JOINING_RANDOM_MA #
#                          SK=0x007F -DBEACON_REQUEST_DELAY=100               #
#                          -DBEACON_REQ_DELAY_MASK=0x00FF                     #
#                          -DLINK_STATUS_JITTER_MASK=0x007F                   #
#                          -DROUTE_EXPIRY_TIME=30 -DAPSC_ACK_WAIT_DURATION_PO #
#                          LLED=3000 -DNWK_INDIRECT_MSG_TIMEOUT=7             #
#                          -DMAX_RREQ_ENTRIES=8 -DAPSC_MAX_FRAME_RETRIES=3    #
#                          -DNWK_MAX_DATA_RETRIES=2                           #
#                          -DMAX_POLL_FAILURE_RETRIES=2 -DMAX_BCAST=9         #
#                          -DAPS_MAX_GROUPS=16 -DMAX_RTG_ENTRIES=40           #
#                          -DNWK_MAX_BINDING_ENTRIES=4                        #
#                          -DMAX_BINDING_CLUSTER_IDS=4 "-DDEFAULT_KEY={0x01,  #
#                          0x03, 0x05, 0x07, 0x09, 0x0B, 0x0D, 0x0F, 0x00,    #
#                          0x02, 0x04, 0x06, 0x08, 0x0A, 0x0C, 0x0D}"         #
#                          -DMAC_MAX_FRAME_SIZE=116                           #
#                          -DZDNWKMGR_MIN_TRANSMISSIONS=20 "-DCONST=const     #
#                          __code" -DGENERIC=__generic                        #
#                          -DRFD_RCVC_ALWAYS_ON=FALSE -DPOLL_RATE=1000        #
#                          -DQUEUED_POLL_RATE=100 -DRESPONSE_POLL_RATE=100    #
#                          -DREJOIN_POLL_RATE=440) -f "D:\Texas               #
#                          Instruments\Z-Stack Lighting                       #
#                          1.0.2\Projects\zstack\ZLL\SampleApp\CC253x\..\..\. #
#                          .\Tools\CC2530DB\f8wZCL.cfg" "D:\Texas             #
#                          Instruments\Z-Stack Lighting                       #
#                          1.0.2\Components\mt\MT_AF.c" -D                    #
#                          FEATURE_GREEN_POWER -D SECURE=1 -D                 #
#                          TC_LINKKEY_JOIN -D ZDSECMGR_TC_DEVICE_MAX=2 -D     #
#                          NV_RESTORE -D HOLD_AUTO_START -D INTER_PAN -D      #
#                          ZTOOL_P1 -D MT_TASK -D MT_APP_FUNC -D MT_SYS_FUNC  #
#                          -D MT_ZDO_FUNC -D MT_ZDO_CB_FUNC -D MT_UTIL_FUNC   #
#                          -D MT_ZDO_MGMT -D LCD_SUPPORTED -D HAL_LCD=FALSE   #
#                          -D HAL_KEY=FALSE -D ZCL_BASIC -D ZCL_READ -D       #
#                          ZCL_WRITE -D ZCL_IDENTIFY -D ZCL_ON_OFF -D         #
#                          ZCL_SCENES -D ZCL_GROUPS -D                        #
#                          ZCL_LIGHT_LINK_ENHANCE -D ZCL_LEVEL_CTRL -D        #
#                          ZCL_COLOR_CTRL -D xMAX_CHANNELS_24GHZ=0x02108800   #
#                          -lC "D:\Texas Instruments\Z-Stack Lighting         #
#                          1.0.2\Projects\zstack\ZLL\SampleApp\CC253x\BridgeE #
#                          B-Pro\List\" -lA "D:\Texas Instruments\Z-Stack     #
#                          Lighting 1.0.2\Projects\zstack\ZLL\SampleApp\CC253 #
#                          x\BridgeEB-Pro\List\" --diag_suppress Pe001,Pa010  #
#                          -o "D:\Texas Instruments\Z-Stack Lighting          #
#                          1.0.2\Projects\zstack\ZLL\SampleApp\CC253x\BridgeE #
#                          B-Pro\Obj\" -e --debug --core=plain --dptr=16,1    #
#                          --data_model=large --code_model=banked             #
#                          --calling_convention=xdata_reentrant               #
#                          --place_constants=data_rom --nr_virtual_regs 16    #
#                          -I "D:\Texas Instruments\Z-Stack Lighting          #
#                          1.0.2\Projects\zstack\ZLL\SampleApp\CC253x\" -I    #
#                          "D:\Texas Instruments\Z-Stack Lighting             #
#                          1.0.2\Projects\zstack\ZLL\SampleApp\CC253x\..\Sour #
#                          ce\" -I "D:\Texas Instruments\Z-Stack Lighting     #
#                          1.0.2\Projects\zstack\ZLL\SampleApp\CC253x\..\..\S #
#                          ource\" -I "D:\Texas Instruments\Z-Stack Lighting  #
#                          1.0.2\Projects\zstack\ZLL\SampleApp\CC253x\..\..\. #
#                          .\HomeAutomation\Source\" -I "D:\Texas             #
#                          Instruments\Z-Stack Lighting                       #
#                          1.0.2\Projects\zstack\ZLL\SampleApp\CC253x\..\..\. #
#                          .\HomeAutomation\SampleLight\Source\" -I           #
#                          "D:\Texas Instruments\Z-Stack Lighting             #
#                          1.0.2\Projects\zstack\ZLL\SampleApp\CC253x\..\..\. #
#                          .\ZMain\TI2530DB\" -I "D:\Texas                    #
#                          Instruments\Z-Stack Lighting                       #
#                          1.0.2\Projects\zstack\ZLL\SampleApp\CC253x\..\..\. #
#                          .\..\..\Components\hal\include\" -I "D:\Texas      #
#                          Instruments\Z-Stack Lighting                       #
#                          1.0.2\Projects\zstack\ZLL\SampleApp\CC253x\..\..\. #
#                          .\..\..\Components\hal\target\CC2530EB\" -I        #
#                          "D:\Texas Instruments\Z-Stack Lighting             #
#                          1.0.2\Projects\zstack\ZLL\SampleApp\CC253x\..\..\. #
#                          .\..\..\Components\mac\include\" -I "D:\Texas      #
#                          Instruments\Z-Stack Lighting                       #
#                          1.0.2\Projects\zstack\ZLL\SampleApp\CC253x\..\..\. #
#                          .\..\..\Components\mac\high_level\" -I "D:\Texas   #
#                          Instruments\Z-Stack Lighting                       #
#                          1.0.2\Projects\zstack\ZLL\SampleApp\CC253x\..\..\. #
#                          .\..\..\Components\mac\low_level\srf04\" -I        #
#                          "D:\Texas Instruments\Z-Stack Lighting             #
#                          1.0.2\Projects\zstack\ZLL\SampleApp\CC253x\..\..\. #
#                          .\..\..\Components\mac\low_level\srf04\single_chip #
#                          \" -I "D:\Texas Instruments\Z-Stack Lighting       #
#                          1.0.2\Projects\zstack\ZLL\SampleApp\CC253x\..\..\. #
#                          .\..\..\Components\mt\" -I "D:\Texas               #
#                          Instruments\Z-Stack Lighting                       #
#                          1.0.2\Projects\zstack\ZLL\SampleApp\CC253x\..\..\. #
#                          .\..\..\Components\osal\include\" -I "D:\Texas     #
#                          Instruments\Z-Stack Lighting                       #
#                          1.0.2\Projects\zstack\ZLL\SampleApp\CC253x\..\..\. #
#                          .\..\..\Components\services\saddr\" -I "D:\Texas   #
#                          Instruments\Z-Stack Lighting                       #
#                          1.0.2\Projects\zstack\ZLL\SampleApp\CC253x\..\..\. #
#                          .\..\..\Components\services\sdata\" -I "D:\Texas   #
#                          Instruments\Z-Stack Lighting                       #
#                          1.0.2\Projects\zstack\ZLL\SampleApp\CC253x\..\..\. #
#                          .\..\..\Components\stack\af\" -I "D:\Texas         #
#                          Instruments\Z-Stack Lighting                       #
#                          1.0.2\Projects\zstack\ZLL\SampleApp\CC253x\..\..\. #
#                          .\..\..\Components\stack\nwk\" -I "D:\Texas        #
#                          Instruments\Z-Stack Lighting                       #
#                          1.0.2\Projects\zstack\ZLL\SampleApp\CC253x\..\..\. #
#                          .\..\..\Components\stack\sapi\" -I "D:\Texas       #
#                          Instruments\Z-Stack Lighting                       #
#                          1.0.2\Projects\zstack\ZLL\SampleApp\CC253x\..\..\. #
#                          .\..\..\Components\stack\sec\" -I "D:\Texas        #
#                          Instruments\Z-Stack Lighting                       #
#                          1.0.2\Projects\zstack\ZLL\SampleApp\CC253x\..\..\. #
#                          .\..\..\Components\stack\sys\" -I "D:\Texas        #
#                          Instruments\Z-Stack Lighting                       #
#                          1.0.2\Projects\zstack\ZLL\SampleApp\CC253x\..\..\. #
#                          .\..\..\Components\stack\zcl\" -I "D:\Texas        #
#                          Instruments\Z-Stack Lighting                       #
#                          1.0.2\Projects\zstack\ZLL\SampleApp\CC253x\..\..\. #
#                          .\..\..\Components\stack\zdo\" -I "D:\Texas        #
#                          Instruments\Z-Stack Lighting                       #
#                          1.0.2\Projects\zstack\ZLL\SampleApp\CC253x\..\..\. #
#                          .\..\..\Components\zmac\" -I "D:\Texas             #
#                          Instruments\Z-Stack Lighting                       #
#                          1.0.2\Projects\zstack\ZLL\SampleApp\CC253x\..\..\. #
#                          .\..\..\Components\zmac\f8w\" -Ohz                 #
#                          --require_prototypes                               #
#    List file          =  D:\Texas Instruments\Z-Stack Lighting              #
#                          1.0.2\Projects\zstack\ZLL\SampleApp\CC253x\BridgeE #
#                          B-Pro\List\MT_AF.lst                               #
#    Object file        =  D:\Texas Instruments\Z-Stack Lighting              #
#                          1.0.2\Projects\zstack\ZLL\SampleApp\CC253x\BridgeE #
#                          B-Pro\Obj\MT_AF.r51                                #
#                                                                             #
#                                                                             #
###############################################################################

D:\Texas Instruments\Z-Stack Lighting 1.0.2\Components\mt\MT_AF.c
      1          /**************************************************************************************************
      2            Filename:       MT_AF.c
      3            Revised:        $Date: 2013-09-12 15:03:27 -0700 (Thu, 12 Sep 2013) $
      4            Revision:       $Revision: 35295 $
      5          
      6          
      7            Description:    MonitorTest functions for the AF layer.
      8          
      9          
     10            Copyright 2007-2012 Texas Instruments Incorporated. All rights reserved.
     11          
     12            IMPORTANT: Your use of this Software is limited to those specific rights
     13            granted under the terms of a software license agreement between the user
     14            who downloaded the software, his/her employer (which must be your employer)
     15            and Texas Instruments Incorporated (the "License").  You may not use this
     16            Software unless you agree to abide by the terms of the License. The License
     17            limits your use, and you acknowledge, that the Software may not be modified,
     18            copied or distributed unless embedded on a Texas Instruments microcontroller
     19            or used solely and exclusively in conjunction with a Texas Instruments radio
     20            frequency transceiver, which is integrated into your product.  Other than for
     21            the foregoing purpose, you may not use, reproduce, copy, prepare derivative
     22            works of, modify, distribute, perform, display or sell this Software and/or
     23            its documentation for any purpose.
     24          
     25            YOU FURTHER ACKNOWLEDGE AND AGREE THAT THE SOFTWARE AND DOCUMENTATION ARE
     26            PROVIDED “AS IS” WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESS OR IMPLIED,
     27            INCLUDING WITHOUT LIMITATION, ANY WARRANTY OF MERCHANTABILITY, TITLE,
     28            NON-INFRINGEMENT AND FITNESS FOR A PARTICULAR PURPOSE. IN NO EVENT SHALL
     29            TEXAS INSTRUMENTS OR ITS LICENSORS BE LIABLE OR OBLIGATED UNDER CONTRACT,
     30            NEGLIGENCE, STRICT LIABILITY, CONTRIBUTION, BREACH OF WARRANTY, OR OTHER
     31            LEGAL EQUITABLE THEORY ANY DIRECT OR INDIRECT DAMAGES OR EXPENSES
     32            INCLUDING BUT NOT LIMITED TO ANY INCIDENTAL, SPECIAL, INDIRECT, PUNITIVE
     33            OR CONSEQUENTIAL DAMAGES, LOST PROFITS OR LOST DATA, COST OF PROCUREMENT
     34            OF SUBSTITUTE GOODS, TECHNOLOGY, SERVICES, OR ANY CLAIMS BY THIRD PARTIES
     35            (INCLUDING BUT NOT LIMITED TO ANY DEFENSE THEREOF), OR OTHER SIMILAR COSTS.
     36          
     37            Should you have any questions regarding your right to use this Software,
     38            contact Texas Instruments Incorporated at www.TI.com.
     39          
     40          **************************************************************************************************/
     41          
     42          /* ------------------------------------------------------------------------------------------------
     43           *                                          Includes
     44           * ------------------------------------------------------------------------------------------------
     45           */
     46          #include "ZComDef.h"
     47          #include "OSAL.h"
     48          #include "MT.h"
     49          #include "MT_AF.h"
     50          #include "MT_ZDO.h"
     51          #include "nwk.h"
     52          #include "OnBoard.h"
     53          #include "MT_UART.h"
     54          
     55          #if defined INTER_PAN
     56          #include "stub_aps.h"
     57          #endif
     58          
     59          /* ------------------------------------------------------------------------------------------------
     60           *                                          Constants
     61           * ------------------------------------------------------------------------------------------------
     62           */
     63          
     64          #if !defined MT_AF_EXEC_CNT
     65          #define MT_AF_EXEC_CNT  15
     66          #endif
     67          
     68          #if !defined MT_AF_EXEC_DLY
     69          #define MT_AF_EXEC_DLY  1000
     70          #endif
     71          
     72          /* ------------------------------------------------------------------------------------------------
     73           *                                           Typedefs
     74           * ------------------------------------------------------------------------------------------------
     75           */
     76          
     77          typedef struct
     78          {
     79            uint8 *data;
     80            afAddrType_t dstAddr;
     81            endPointDesc_t *epDesc;
     82            uint16 cId;
     83            uint16 dataLen;
     84            uint8 transId;
     85            uint8 txOpts;
     86            uint8 radius;
     87            uint8 tick;
     88          } mtAfDataReq_t;
     89          
     90          typedef struct _mtAfInMsgList_t
     91          {
     92            struct _mtAfInMsgList_t *next;
     93            uint8 *data;
     94            uint32 timestamp;         // Receipt timestamp from MAC.
     95            uint8 tick;
     96          } mtAfInMsgList_t;
     97          
     98          /* ------------------------------------------------------------------------------------------------
     99           *                                        Local Variables
    100           * ------------------------------------------------------------------------------------------------
    101           */
    102          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    103          mtAfInMsgList_t *pMtAfInMsgList = NULL;
   \                     pMtAfInMsgList:
   \   000000                DS 2
   \   000002                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    104          mtAfDataReq_t *pMtAfDataReq = NULL;
   \                     pMtAfDataReq:
   \   000000                DS 2
   \   000002                REQUIRE __INIT_XDATA_Z
    105          
    106          /* ------------------------------------------------------------------------------------------------
    107           *                                        Global Variables
    108           * ------------------------------------------------------------------------------------------------
    109           */
    110          
    111          #if defined ( MT_AF_CB_FUNC )
    112          uint16 _afCallbackSub;
    113          #endif
    114          
    115          /* ------------------------------------------------------------------------------------------------
    116           *                                        Local Functions
    117           * ------------------------------------------------------------------------------------------------
    118           */
    119          
    120          void MT_AfRegister(uint8 *pBuf);
    121          void MT_AfDelete(uint8 *pBuf);
    122          void MT_AfDataRequest(uint8 *pBuf);
    123          
    124          #if defined ( ZIGBEE_SOURCE_ROUTING )
    125          void MT_AfDataRequestSrcRtg(uint8 *pBuf);
    126          #endif
    127          
    128          #if defined INTER_PAN
    129          static void MT_AfInterPanCtl(uint8 *pBuf);
    130          #endif
    131          
    132          static void MT_AfDataRetrieve(uint8 *pBuf);
    133          static void MT_AfDataStore(uint8 *pBuf);
    134          static void MT_AfAPSF_ConfigSet(uint8 *pBuf);
    135          static void MT_AfAPSF_ConfigGet(uint8 *pBuf);
    136          
    137          
    138          /**************************************************************************************************
    139           * @fn          MT_AfExec
    140           *
    141           * @brief       This function is invoked by an MT timer event.
    142           *
    143           * input parameters
    144           *
    145           * None.
    146           *
    147           * output parameters
    148           *
    149           * None.
    150           *
    151           * @return      None.
    152           **************************************************************************************************
    153           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    154          void MT_AfExec(void)
   \                     MT_AfExec:
    155          {
   \   000000   74F7         MOV     A,#-0x9
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 9
   \   000005                ; Auto size: 0
    156            mtAfInMsgList_t *pPrev, *pItem = pMtAfInMsgList;
   \                     ??MT_AfExec_0:
   \   000005   90....       MOV     DPTR,#pMtAfInMsgList
   \   000008   8008         SJMP    ??MT_AfExec_1
    157          
    158            while (pItem != NULL)
    159            {
    160              if (--(pItem->tick) == 0)
    161              {
    162                if (pMtAfInMsgList == pItem)
    163                {
    164                  pMtAfInMsgList = pItem->next;
    165                  (void)osal_mem_free(pItem);
    166                  pItem = pMtAfInMsgList;
    167                }
    168                else
    169                {
    170                  pPrev->next = pItem->next;
    171                  (void)osal_mem_free(pItem);
    172                  pItem = pPrev->next;
    173                }
    174              }
    175              else
    176              {
    177                pPrev = pItem;
   \                     ??MT_AfExec_2:
   \   00000A   EA           MOV     A,R2
   \   00000B   FE           MOV     R6,A
   \   00000C   EB           MOV     A,R3
   \   00000D   FF           MOV     R7,A
    178                pItem = pItem->next;
   \   00000E   8A82         MOV     DPL,R2
   \   000010   8B83         MOV     DPH,R3
    179              }
   \                     ??MT_AfExec_1:
   \   000012   12....       LCALL   ??Subroutine64_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_144:
   \   000015   EA           MOV     A,R2
   \   000016   4B           ORL     A,R3
   \   000017   603B         JZ      ??MT_AfExec_3
   \   000019   EA           MOV     A,R2
   \   00001A   2408         ADD     A,#0x8
   \   00001C   F582         MOV     DPL,A
   \   00001E   EB           MOV     A,R3
   \   00001F   12....       LCALL   ??Subroutine56_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_95:
   \   000022   E0           MOVX    A,@DPTR
   \   000023   14           DEC     A
   \   000024   F0           MOVX    @DPTR,A
   \   000025   70E3         JNZ     ??MT_AfExec_2
   \   000027   12....       LCALL   ?Subroutine43 & 0xFFFF
   \                     ??CrossCallReturnLabel_141:
   \   00002A   EA           MOV     A,R2
   \   00002B   68           XRL     A,R0
   \   00002C   7002         JNZ     ??MT_AfExec_4
   \   00002E   EB           MOV     A,R3
   \   00002F   69           XRL     A,R1
   \                     ??MT_AfExec_4:
   \   000030   8A82         MOV     DPL,R2
   \   000032   8B83         MOV     DPH,R3
   \   000034   700B         JNZ     ??MT_AfExec_5
   \   000036   12....       LCALL   ?Subroutine21 & 0xFFFF
   \                     ??CrossCallReturnLabel_25:
   \   000039   12....       LCALL   ?Subroutine32 & 0xFFFF
   \                     ??CrossCallReturnLabel_44:
   \   00003C                ; Setup parameters for call to function osal_mem_free
   \   00003C   12....       LCALL   ??osal_mem_free?relay
   \   00003F   80C4         SJMP    ??MT_AfExec_0
   \                     ??MT_AfExec_5:
   \   000041   12....       LCALL   ??Subroutine63_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_139:
   \   000044   8E82         MOV     DPL,R6
   \   000046   8F83         MOV     DPH,R7
   \   000048   12....       LCALL   ?Subroutine32 & 0xFFFF
   \                     ??CrossCallReturnLabel_45:
   \   00004B                ; Setup parameters for call to function osal_mem_free
   \   00004B   12....       LCALL   ??osal_mem_free?relay
   \   00004E   8E82         MOV     DPL,R6
   \   000050   8F83         MOV     DPH,R7
   \   000052   80BE         SJMP    ??MT_AfExec_1
    180            }
    181          
    182            if (pMtAfDataReq != NULL)
   \                     ??MT_AfExec_3:
   \   000054   12....       LCALL   ?Subroutine5 & 0xFFFF
   \                     ??CrossCallReturnLabel_109:
   \   000057   6018         JZ      ??MT_AfExec_6
    183            {
    184              if (--(pMtAfDataReq->tick) == 0)
   \   000059   12....       LCALL   ?Subroutine39 & 0xFFFF
   \                     ??CrossCallReturnLabel_105:
   \   00005C   E0           MOVX    A,@DPTR
   \   00005D   14           DEC     A
   \   00005E   12....       LCALL   ?Subroutine10 & 0xFFFF
   \                     ??CrossCallReturnLabel_7:
   \   000061   E0           MOVX    A,@DPTR
   \   000062   700D         JNZ     ??MT_AfExec_6
    185              {
    186                (void)osal_mem_free(pMtAfDataReq);
   \   000064                ; Setup parameters for call to function osal_mem_free
   \   000064   12....       LCALL   ?Subroutine7 & 0xFFFF
   \                     ??CrossCallReturnLabel_149:
   \   000067   12....       LCALL   ??osal_mem_free?relay
    187                pMtAfDataReq = NULL;
   \   00006A   90....       MOV     DPTR,#pMtAfDataReq
   \   00006D   E4           CLR     A
   \   00006E   F0           MOVX    @DPTR,A
   \   00006F   A3           INC     DPTR
   \   000070   F0           MOVX    @DPTR,A
    188              }
    189            }
    190          
    191            if ((pMtAfInMsgList != NULL) || (pMtAfDataReq != NULL))
   \                     ??MT_AfExec_6:
   \   000071   90....       MOV     DPTR,#pMtAfInMsgList
   \   000074   12....       LCALL   ??Subroutine57_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_107:
   \   000077   7005         JNZ     ??MT_AfExec_7
   \   000079   12....       LCALL   ?Subroutine5 & 0xFFFF
   \                     ??CrossCallReturnLabel_110:
   \   00007C   6026         JZ      ??MT_AfExec_8
    192            {
    193              if (ZSuccess != osal_start_timerEx(MT_TaskID, MT_AF_EXEC_EVT, MT_AF_EXEC_DLY))
   \                     ??MT_AfExec_7:
   \   00007E                ; Setup parameters for call to function osal_start_timerEx
   \   00007E   90....       MOV     DPTR,#__Constant_3e8
   \   000081   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   000084   7A08         MOV     R2,#0x8
   \   000086   7B00         MOV     R3,#0x0
   \   000088   90....       MOV     DPTR,#MT_TaskID
   \   00008B   E0           MOVX    A,@DPTR
   \   00008C   F9           MOV     R1,A
   \   00008D   12....       LCALL   ??osal_start_timerEx?relay
   \   000090   7404         MOV     A,#0x4
   \   000092   12....       LCALL   ?DEALLOC_XSTACK8
   \   000095   E9           MOV     A,R1
   \   000096   600C         JZ      ??MT_AfExec_8
    194              {
    195                osal_set_event(MT_TaskID, MT_AF_EXEC_EVT);
   \   000098                ; Setup parameters for call to function osal_set_event
   \   000098   7A08         MOV     R2,#0x8
   \   00009A   7B00         MOV     R3,#0x0
   \   00009C   90....       MOV     DPTR,#MT_TaskID
   \   00009F   E0           MOVX    A,@DPTR
   \   0000A0   F9           MOV     R1,A
   \   0000A1   12....       LCALL   ??osal_set_event?relay
    196              }
    197            }
    198          }
   \                     ??MT_AfExec_8:
   \   0000A4   02....       LJMP    ??Subroutine53_0 & 0xFFFF

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine53_0:
   \   000000   7F01         MOV     R7,#0x1
   \   000002   02....       LJMP    ?BANKED_LEAVE_XDATA

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine10:
   \   000000   F0           MOVX    @DPTR,A
   \   000001   90....       MOV     DPTR,#pMtAfDataReq
   \   000004   E0           MOVX    A,@DPTR
   \   000005   F8           MOV     R0,A
   \   000006   A3           INC     DPTR
   \   000007   12....       LCALL   ?Subroutine39 & 0xFFFF
   \                     ??CrossCallReturnLabel_106:
   \   00000A   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine39:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   C8           XCH     A,R0
   \   000002   2417         ADD     A,#0x17
   \   000004                REQUIRE ??Subroutine55_0
   \   000004                ; // Fall through to label ??Subroutine55_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine55_0:
   \   000000   F582         MOV     DPL,A
   \   000002   E8           MOV     A,R0
   \   000003                REQUIRE ??Subroutine56_0
   \   000003                ; // Fall through to label ??Subroutine56_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine56_0:
   \   000000   3400         ADDC    A,#0x0
   \   000002   F583         MOV     DPH,A
   \   000004   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine5:
   \   000000   90....       MOV     DPTR,#pMtAfDataReq
   \   000003                REQUIRE ??Subroutine57_0
   \   000003                ; // Fall through to label ??Subroutine57_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine57_0:
   \   000000   12....       LCALL   ??Subroutine63_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_143:
   \   000003   E8           MOV     A,R0
   \   000004   49           ORL     A,R1
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine32:
   \   000000   E8           MOV     A,R0
   \   000001   F0           MOVX    @DPTR,A
   \   000002   A3           INC     DPTR
   \   000003   E9           MOV     A,R1
   \   000004   F0           MOVX    @DPTR,A
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine21:
   \   000000   12....       LCALL   ??Subroutine63_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_140:
   \   000003   90....       MOV     DPTR,#pMtAfInMsgList
   \   000006   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine43:
   \   000000   90....       MOV     DPTR,#pMtAfInMsgList
   \   000003                REQUIRE ??Subroutine63_0
   \   000003                ; // Fall through to label ??Subroutine63_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine63_0:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   F8           MOV     R0,A
   \   000002   A3           INC     DPTR
   \   000003   E0           MOVX    A,@DPTR
   \   000004   F9           MOV     R1,A
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine7:
   \   000000   90....       MOV     DPTR,#pMtAfDataReq
   \   000003                REQUIRE ??Subroutine64_0
   \   000003                ; // Fall through to label ??Subroutine64_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine64_0:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   FA           MOV     R2,A
   \   000002   A3           INC     DPTR
   \   000003   E0           MOVX    A,@DPTR
   \   000004   FB           MOV     R3,A
   \   000005   22           RET
    199          
    200          /***************************************************************************************************
    201           * @fn      MT_AfCommandProcessing
    202           *
    203           * @brief   Process all the AF commands that are issued by test tool
    204           *
    205           * @param   pBuf - pointer to the received buffer
    206           *
    207           * @return  status
    208           ***************************************************************************************************/

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    209          uint8 MT_AfCommandProcessing(uint8 *pBuf)
   \                     MT_AfCommandProcessing:
    210          {
   \   000000   74F7         MOV     A,#-0x9
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 9
   \   000005                ; Auto size: 6
   \   000005   74FA         MOV     A,#-0x6
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
    211            uint8 status = MT_RPC_SUCCESS;
   \   00000A   7E00         MOV     R6,#0x0
    212          
    213            switch (pBuf[MT_RPC_POS_CMD1])
   \   00000C   EA           MOV     A,R2
   \   00000D   2403         ADD     A,#0x3
   \   00000F   12....       LCALL   ?Subroutine25 & 0xFFFF
   \                     ??CrossCallReturnLabel_29:
   \   000012   E0           MOVX    A,@DPTR
   \   000013   601F         JZ      ??MT_AfCommandProcessing_0
   \   000015   14           DEC     A
   \   000016   6028         JZ      ??MT_AfCommandProcessing_1
   \   000018   14           DEC     A
   \   000019   6025         JZ      ??MT_AfCommandProcessing_1
   \   00001B   14           DEC     A
   \   00001C   6028         JZ      ??MT_AfCommandProcessing_2
   \   00001E   14           DEC     A
   \   00001F   6019         JZ      ??MT_AfCommandProcessing_3
   \   000021   24F4         ADD     A,#-0xc
   \   000023   6027         JZ      ??MT_AfCommandProcessing_4
   \   000025   14           DEC     A
   \   000026   6030         JZ      ??MT_AfCommandProcessing_5
   \   000028   14           DEC     A
   \   000029   6027         JZ      ??MT_AfCommandProcessing_6
   \   00002B   14           DEC     A
   \   00002C   6030         JZ      ??MT_AfCommandProcessing_7
   \   00002E   14           DEC     A
   \   00002F   606B         JZ      ??MT_AfCommandProcessing_8
   \   000031   02....       LJMP    ??MT_AfCommandProcessing_9 & 0xFFFF
    214            {
    215              case MT_AF_REGISTER:
    216                MT_AfRegister(pBuf);
   \                     ??MT_AfCommandProcessing_0:
   \   000034                ; Setup parameters for call to function MT_AfRegister
   \   000034   12....       LCALL   ??MT_AfRegister?relay
    217                break;
   \   000037   02....       LJMP    ??MT_AfCommandProcessing_10 & 0xFFFF
    218                
    219              case MT_AF_DELETE:
    220                MT_AfDelete( pBuf );
   \                     ??MT_AfCommandProcessing_3:
   \   00003A                ; Setup parameters for call to function MT_AfDelete
   \   00003A   12....       LCALL   ??MT_AfDelete?relay
    221                break;
   \   00003D   02....       LJMP    ??MT_AfCommandProcessing_10 & 0xFFFF
    222          
    223              case MT_AF_DATA_REQUEST:
    224              case MT_AF_DATA_REQUEST_EXT:
    225                MT_AfDataRequest(pBuf);
   \                     ??MT_AfCommandProcessing_1:
   \   000040                ; Setup parameters for call to function MT_AfDataRequest
   \   000040   12....       LCALL   ??MT_AfDataRequest?relay
    226                break;
   \   000043   02....       LJMP    ??MT_AfCommandProcessing_10 & 0xFFFF
    227          
    228          #if defined ( ZIGBEE_SOURCE_ROUTING )
    229              case MT_AF_DATA_REQUEST_SRCRTG:
    230                MT_AfDataRequestSrcRtg(pBuf);
   \                     ??MT_AfCommandProcessing_2:
   \   000046                ; Setup parameters for call to function MT_AfDataRequestSrcRtg
   \   000046   12....       LCALL   ??MT_AfDataRequestSrcRtg?relay
    231                break;
   \   000049   02....       LJMP    ??MT_AfCommandProcessing_10 & 0xFFFF
    232          #endif
    233          
    234          #if defined INTER_PAN
    235              case MT_AF_INTER_PAN_CTL:
    236                MT_AfInterPanCtl(pBuf);
   \                     ??MT_AfCommandProcessing_4:
   \   00004C                ; Setup parameters for call to function MT_AfInterPanCtl
   \   00004C   12....       LCALL   ??MT_AfInterPanCtl?relay
    237                break;
   \   00004F   02....       LJMP    ??MT_AfCommandProcessing_10 & 0xFFFF
    238          #endif
    239          
    240              case MT_AF_DATA_RETRIEVE:
    241                MT_AfDataRetrieve(pBuf);
   \                     ??MT_AfCommandProcessing_6:
   \   000052                ; Setup parameters for call to function MT_AfDataRetrieve
   \   000052   12....       LCALL   ??MT_AfDataRetrieve?relay
    242                break;
   \   000055   02....       LJMP    ??MT_AfCommandProcessing_10 & 0xFFFF
    243          
    244              case MT_AF_DATA_STORE:
    245                MT_AfDataStore(pBuf);
   \                     ??MT_AfCommandProcessing_5:
   \   000058                ; Setup parameters for call to function MT_AfDataStore
   \   000058   12....       LCALL   ??MT_AfDataStore?relay
    246                break;
   \   00005B   02....       LJMP    ??MT_AfCommandProcessing_10 & 0xFFFF
    247          
    248              case MT_AF_APSF_CONFIG_SET:
    249                MT_AfAPSF_ConfigSet(pBuf);
   \                     ??MT_AfCommandProcessing_7:
   \   00005E   8A82         MOV     DPL,R2
   \   000060   8B83         MOV     DPH,R3
   \   000062   A3           INC     DPTR
   \   000063   A3           INC     DPTR
   \   000064   A3           INC     DPTR
   \   000065   A3           INC     DPTR
   \   000066   E0           MOVX    A,@DPTR
   \   000067   85..82       MOV     DPL,?XSP + 0
   \   00006A   85..83       MOV     DPH,?XSP + 1
   \   00006D   12....       LCALL   ?Subroutine34 & 0xFFFF
   \                     ??CrossCallReturnLabel_55:
   \   000070   A3           INC     DPTR
   \   000071   E0           MOVX    A,@DPTR
   \   000072   C0E0         PUSH    A
   \   000074   7401         MOV     A,#0x1
   \   000076   12....       LCALL   ?XSTACK_DISP0_8
   \   000079   D0E0         POP     A
   \   00007B   12....       LCALL   ?Subroutine46 & 0xFFFF
   \                     ??CrossCallReturnLabel_77:
   \   00007E   AA82         MOV     R2,DPL
   \   000080   AB83         MOV     R3,DPH
   \   000082   8882         MOV     DPL,R0
   \   000084   8983         MOV     DPH,R1
   \   000086   E0           MOVX    A,@DPTR
   \   000087   F9           MOV     R1,A
   \   000088   12....       LCALL   ??afAPSF_ConfigSet?relay
   \   00008B   7402         MOV     A,#0x2
   \   00008D   12....       LCALL   ?XSTACK_DISP0_8
   \   000090   E9           MOV     A,R1
   \   000091   F0           MOVX    @DPTR,A
   \   000092                ; Setup parameters for call to function MT_BuildAndSendZToolResponse
   \   000092   AC82         MOV     R4,DPL
   \   000094   AD83         MOV     R5,DPH
   \   000096   7B01         MOV     R3,#0x1
   \   000098   7A13         MOV     R2,#0x13
   \   00009A   8059         SJMP    ??MT_AfCommandProcessing_11
    250                break;
    251          
    252              case MT_AF_APSF_CONFIG_GET:
    253                MT_AfAPSF_ConfigGet(pBuf);
   \                     ??MT_AfCommandProcessing_8:
   \   00009C   85..82       MOV     DPL,?XSP + 0
   \   00009F   85..83       MOV     DPH,?XSP + 1
   \   0000A2   AC82         MOV     R4,DPL
   \   0000A4   AD83         MOV     R5,DPH
   \   0000A6   7583..       MOV     DPH,#(`?<Constant {0, 0}>` >> 8) & 0xff
   \   0000A9   7582..       MOV     DPL,#`?<Constant {0, 0}>` & 0xff
   \   0000AC   7402         MOV     A,#0x2
   \   0000AE   12....       LCALL   ?MOVE_LONG8_XDATA_XDATA
   \   0000B1                ; Setup parameters for call to function afAPSF_ConfigSet
   \   0000B1   85..82       MOV     DPL,?XSP + 0
   \   0000B4   85..83       MOV     DPH,?XSP + 1
   \   0000B7   AA82         MOV     R2,DPL
   \   0000B9   AB83         MOV     R3,DPH
   \   0000BB   8882         MOV     DPL,R0
   \   0000BD   8983         MOV     DPH,R1
   \   0000BF   E0           MOVX    A,@DPTR
   \   0000C0   F9           MOV     R1,A
   \   0000C1   12....       LCALL   ??afAPSF_ConfigSet?relay
   \   0000C4   7403         MOV     A,#0x3
   \   0000C6   12....       LCALL   ?XSTACK_DISP0_8
   \   0000C9   E9           MOV     A,R1
   \   0000CA   12....       LCALL   ?Subroutine46 & 0xFFFF
   \                     ??CrossCallReturnLabel_78:
   \   0000CD   E0           MOVX    A,@DPTR
   \   0000CE   C0E0         PUSH    A
   \   0000D0   7404         MOV     A,#0x4
   \   0000D2   12....       LCALL   ?XSTACK_DISP0_8
   \   0000D5   D0E0         POP     A
   \   0000D7   F0           MOVX    @DPTR,A
   \   0000D8   7401         MOV     A,#0x1
   \   0000DA   12....       LCALL   ?XSTACK_DISP0_8
   \   0000DD   E0           MOVX    A,@DPTR
   \   0000DE   C0E0         PUSH    A
   \   0000E0   7405         MOV     A,#0x5
   \   0000E2   12....       LCALL   ?XSTACK_DISP0_8
   \   0000E5   D0E0         POP     A
   \   0000E7   F0           MOVX    @DPTR,A
   \   0000E8                ; Setup parameters for call to function MT_BuildAndSendZToolResponse
   \   0000E8   7403         MOV     A,#0x3
   \   0000EA   12....       LCALL   ?XSTACK_DISP0_8
   \   0000ED   AC82         MOV     R4,DPL
   \   0000EF   AD83         MOV     R5,DPH
   \   0000F1   7B03         MOV     R3,#0x3
   \   0000F3   7A14         MOV     R2,#0x14
   \                     ??MT_AfCommandProcessing_11:
   \   0000F5   7964         MOV     R1,#0x64
   \   0000F7   12....       LCALL   ??MT_BuildAndSendZToolResponse?relay
    254                break;
   \   0000FA   8002         SJMP    ??MT_AfCommandProcessing_10
    255          
    256              default:
    257                status = MT_RPC_ERR_COMMAND_ID;
   \                     ??MT_AfCommandProcessing_9:
   \   0000FC   0E           INC     R6
   \   0000FD   0E           INC     R6
    258                break;
    259            }
    260          
    261            return status;
   \                     ??MT_AfCommandProcessing_10:
   \   0000FE   EE           MOV     A,R6
   \   0000FF   F9           MOV     R1,A
   \   000100   7406         MOV     A,#0x6
   \   000102                REQUIRE ?Subroutine0
   \   000102                ; // Fall through to label ?Subroutine0
    262          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine0:
   \   000000   12....       LCALL   ?DEALLOC_XSTACK8
   \   000003                REQUIRE ??Subroutine53_0
   \   000003                ; // Fall through to label ??Subroutine53_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine25:
   \   000000   F8           MOV     R0,A
   \   000001   EB           MOV     A,R3
   \   000002   3400         ADDC    A,#0x0
   \   000004   F9           MOV     R1,A
   \   000005   8A82         MOV     DPL,R2
   \   000007   8B83         MOV     DPH,R3
   \   000009   A3           INC     DPTR
   \   00000A   A3           INC     DPTR
   \   00000B   22           RET
    263          
    264          /***************************************************************************************************
    265           * @fn      MT_AfRegister
    266           *
    267           * @brief   Process AF Register command
    268           *
    269           * @param   pBuf - pointer to the received buffer
    270           *
    271           * @return  none
    272           ***************************************************************************************************/

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    273          void MT_AfRegister(uint8 *pBuf)
   \                     MT_AfRegister:
    274          {
   \   000000   74F2         MOV     A,#-0xe
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 14
   \   000005                ; Auto size: 1
   \   000005   74FF         MOV     A,#-0x1
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   8A..         MOV     ?V0 + 0,R2
   \   00000C   8B..         MOV     ?V0 + 1,R3
    275            uint8 cmdId;
    276            uint8 retValue = ZMemError;
   \   00000E   12....       LCALL   ?Subroutine37 & 0xFFFF
    277            endPointDesc_t *epDesc;
    278          
    279            /* parse header */
    280            cmdId = pBuf[MT_RPC_POS_CMD1];
   \                     ??CrossCallReturnLabel_62:
   \   000011   F5..         MOV     ?V0 + 2,A
    281            pBuf += MT_RPC_FRAME_HDR_SZ;
    282          
    283            epDesc = (endPointDesc_t *)osal_mem_alloc(sizeof(endPointDesc_t));
   \   000013                ; Setup parameters for call to function osal_mem_alloc
   \   000013   7A06         MOV     R2,#0x6
   \   000015   7B00         MOV     R3,#0x0
   \   000017   12....       LCALL   ??osal_mem_alloc?relay
   \   00001A   8A..         MOV     ?V0 + 4,R2
   \   00001C   8B..         MOV     ?V0 + 5,R3
   \   00001E   AE..         MOV     R6,?V0 + 4
   \   000020   AF..         MOV     R7,?V0 + 5
    284            if ( epDesc )
   \   000022   EE           MOV     A,R6
   \   000023   4F           ORL     A,R7
   \   000024   6040         JZ      ??MT_AfRegister_0
    285            {
    286              epDesc->task_id = &MT_TaskID;
   \   000026   8E82         MOV     DPL,R6
   \   000028   8F83         MOV     DPH,R7
   \   00002A   A3           INC     DPTR
   \   00002B   74..         MOV     A,#MT_TaskID & 0xff
   \   00002D   F0           MOVX    @DPTR,A
   \   00002E   A3           INC     DPTR
   \   00002F   74..         MOV     A,#(MT_TaskID >> 8) & 0xff
   \   000031   F0           MOVX    @DPTR,A
    287              retValue = MT_BuildEndpointDesc( pBuf, epDesc );
   \   000032                ; Setup parameters for call to function MT_BuildEndpointDesc
   \   000032   EE           MOV     A,R6
   \   000033   FC           MOV     R4,A
   \   000034   EF           MOV     A,R7
   \   000035   FD           MOV     R5,A
   \   000036   E5..         MOV     A,?V0 + 0
   \   000038   2403         ADD     A,#0x3
   \   00003A   FA           MOV     R2,A
   \   00003B   E5..         MOV     A,?V0 + 1
   \   00003D   3400         ADDC    A,#0x0
   \   00003F   FB           MOV     R3,A
   \   000040   12....       LCALL   ??MT_BuildEndpointDesc?relay
   \   000043   E9           MOV     A,R1
   \   000044   85..82       MOV     DPL,?XSP + 0
   \   000047   85..83       MOV     DPH,?XSP + 1
   \   00004A   F0           MOVX    @DPTR,A
    288              if ( retValue == ZSuccess )
   \   00004B   700F         JNZ     ??MT_AfRegister_1
    289              {
    290                retValue = afRegister( epDesc );
   \   00004D                ; Setup parameters for call to function afRegister
   \   00004D   EE           MOV     A,R6
   \   00004E   FA           MOV     R2,A
   \   00004F   EF           MOV     A,R7
   \   000050   FB           MOV     R3,A
   \   000051   12....       LCALL   ??afRegister?relay
   \   000054   E9           MOV     A,R1
   \   000055   85..82       MOV     DPL,?XSP + 0
   \   000058   85..83       MOV     DPH,?XSP + 1
   \   00005B   F0           MOVX    @DPTR,A
    291              }
    292          
    293              if ( retValue != ZSuccess )
   \                     ??MT_AfRegister_1:
   \   00005C   E0           MOVX    A,@DPTR
   \   00005D   6007         JZ      ??MT_AfRegister_0
    294              {
    295                osal_mem_free( epDesc );
   \   00005F                ; Setup parameters for call to function osal_mem_free
   \   00005F   EE           MOV     A,R6
   \   000060   FA           MOV     R2,A
   \   000061   EF           MOV     A,R7
   \   000062   FB           MOV     R3,A
   \   000063   12....       LCALL   ??osal_mem_free?relay
    296              }
    297            }
    298          
    299            /* Build and send back the response */
    300            MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_AF), cmdId, 1, &retValue);
   \                     ??MT_AfRegister_0:
   \   000066                ; Setup parameters for call to function MT_BuildAndSendZToolResponse
   \   000066   85..82       MOV     DPL,?XSP + 0
   \   000069   85..83       MOV     DPH,?XSP + 1
   \   00006C   AC82         MOV     R4,DPL
   \   00006E   AD83         MOV     R5,DPH
   \   000070   7B01         MOV     R3,#0x1
   \   000072   AA..         MOV     R2,?V0 + 2
   \   000074                REQUIRE ?Subroutine1
   \   000074                ; // Fall through to label ?Subroutine1
    301          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine1:
   \   000000   7964         MOV     R1,#0x64
   \   000002   12....       LCALL   ??MT_BuildAndSendZToolResponse?relay
   \   000005   7401         MOV     A,#0x1
   \   000007   12....       LCALL   ?DEALLOC_XSTACK8
   \   00000A   7F06         MOV     R7,#0x6
   \   00000C   02....       LJMP    ?BANKED_LEAVE_XDATA

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine37:
   \   000000   85..82       MOV     DPL,?XSP + 0
   \   000003   85..83       MOV     DPH,?XSP + 1
   \   000006   7410         MOV     A,#0x10
   \   000008   12....       LCALL   ?Subroutine48 & 0xFFFF
   \                     ??CrossCallReturnLabel_80:
   \   00000B   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine48:
   \   000000   12....       LCALL   ?Subroutine52 & 0xFFFF
   \                     ??CrossCallReturnLabel_88:
   \   000003   A3           INC     DPTR
   \   000004   E0           MOVX    A,@DPTR
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine52:
   \   000000   F0           MOVX    @DPTR,A
   \   000001   8A82         MOV     DPL,R2
   \   000003   8B83         MOV     DPH,R3
   \   000005   A3           INC     DPTR
   \   000006   22           RET
    302          
    303          /***************************************************************************************************
    304           * @fn      MT_AfDelete
    305           *
    306           * @brief   Process AF Delete Endpoint command
    307           *
    308           * @param   pBuf - pointer to the received buffer
    309           *
    310           * @return  none
    311           ***************************************************************************************************/

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    312          void MT_AfDelete(uint8 *pBuf)
   \                     MT_AfDelete:
    313          {
   \   000000   74F7         MOV     A,#-0x9
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 9
   \   000005                ; Auto size: 1
   \   000005   74FF         MOV     A,#-0x1
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
    314            uint8 cmdId;
    315            uint8 retValue = ZMemError;
   \   00000A   12....       LCALL   ?Subroutine37 & 0xFFFF
    316          
    317            /* parse header */
    318            cmdId = pBuf[MT_RPC_POS_CMD1];
   \                     ??CrossCallReturnLabel_63:
   \   00000D   FE           MOV     R6,A
    319            pBuf += MT_RPC_FRAME_HDR_SZ;
    320          
    321            retValue = afDelete( *pBuf );
   \   00000E                ; Setup parameters for call to function afDelete
   \   00000E   8A82         MOV     DPL,R2
   \   000010   8B83         MOV     DPH,R3
   \   000012   A3           INC     DPTR
   \   000013   A3           INC     DPTR
   \   000014   A3           INC     DPTR
   \   000015   E0           MOVX    A,@DPTR
   \   000016   F9           MOV     R1,A
   \   000017   12....       LCALL   ??afDelete?relay
   \   00001A   E9           MOV     A,R1
   \   00001B   85..82       MOV     DPL,?XSP + 0
   \   00001E   85..83       MOV     DPH,?XSP + 1
   \   000021   12....       LCALL   ?Subroutine33 & 0xFFFF
    322            
    323            /* Build and send back the response */
    324            MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_AF), cmdId, 1, &retValue);
   \                     ??CrossCallReturnLabel_53:
   \   000024   12....       LCALL   ??MT_BuildAndSendZToolResponse?relay
    325          }
   \   000027   7401         MOV     A,#0x1
   \   000029   02....       LJMP    ?Subroutine0 & 0xFFFF

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine33:
   \   000000   F0           MOVX    @DPTR,A
   \   000001                ; Setup parameters for call to function MT_BuildAndSendZToolResponse
   \   000001                ; Setup parameters for call to function MT_BuildAndSendZToolResponse
   \   000001   AC82         MOV     R4,DPL
   \   000003   AD83         MOV     R5,DPH
   \   000005   7B01         MOV     R3,#0x1
   \   000007   EE           MOV     A,R6
   \   000008   FA           MOV     R2,A
   \   000009   7964         MOV     R1,#0x64
   \   00000B   22           RET
    326          
    327          /***************************************************************************************************
    328           * @fn      MT_AfDataRequest
    329           *
    330           * @brief   Process AF Register command
    331           *
    332           * @param   pBuf - pointer to the received buffer
    333           *
    334           * @return  none
    335           ***************************************************************************************************/

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    336          void MT_AfDataRequest(uint8 *pBuf)
   \                     MT_AfDataRequest:
    337          {
   \   000000   74EA         MOV     A,#-0x16
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 22
   \   000005                ; Auto size: 14
   \   000005   74F2         MOV     A,#-0xe
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
    338            #define MT_AF_REQ_MSG_LEN  10
    339            #define MT_AF_REQ_MSG_EXT  10
    340          
    341            endPointDesc_t *epDesc;
    342            afAddrType_t dstAddr;
    343            cId_t cId;
    344            uint8 transId, txOpts, radius;
    345            uint8 cmd0, cmd1;
    346            uint8 retValue = ZFailure;
   \   00000A   85..82       MOV     DPL,?XSP + 0
   \   00000D   85..83       MOV     DPH,?XSP + 1
   \   000010   7401         MOV     A,#0x1
   \   000012   12....       LCALL   ?Subroutine52 & 0xFFFF
    347            uint16 dataLen, tempLen;
    348          
    349            /* Parse header */
    350            cmd0 = pBuf[MT_RPC_POS_CMD0];
   \                     ??CrossCallReturnLabel_86:
   \   000015   E0           MOVX    A,@DPTR
   \   000016   F5..         MOV     ?V0 + 7,A
    351            cmd1 = pBuf[MT_RPC_POS_CMD1];
   \   000018   8A82         MOV     DPL,R2
   \   00001A   8B83         MOV     DPH,R3
   \   00001C   A3           INC     DPTR
   \   00001D   A3           INC     DPTR
   \   00001E   E0           MOVX    A,@DPTR
   \   00001F   F5..         MOV     ?V0 + 6,A
    352            pBuf += MT_RPC_FRAME_HDR_SZ;
   \   000021   EA           MOV     A,R2
   \   000022   2403         ADD     A,#0x3
   \   000024   F5..         MOV     ?V0 + 2,A
   \   000026   EB           MOV     A,R3
   \   000027   12....       LCALL   ?Subroutine41 & 0xFFFF
    353          
    354            if (cmd1 == MT_AF_DATA_REQUEST_EXT)
   \                     ??CrossCallReturnLabel_93:
   \   00002A   A3           INC     DPTR
   \   00002B   A882         MOV     R0,DPL
   \   00002D   A983         MOV     R1,DPH
   \   00002F   7402         MOV     A,#0x2
   \   000031   65..         XRL     A,?V0 + 6
   \   000033   706F         JNZ     ??MT_AfDataRequest_0
    355            {
    356              dstAddr.addrMode = (afAddrMode_t)*pBuf++;
   \   000035   85..82       MOV     DPL,?V0 + 2
   \   000038   85..83       MOV     DPH,?V0 + 3
   \   00003B   E0           MOVX    A,@DPTR
   \   00003C   FA           MOV     R2,A
   \   00003D   740A         MOV     A,#0xa
   \   00003F   12....       LCALL   ?XSTACK_DISP0_8
   \   000042   EA           MOV     A,R2
   \   000043   F0           MOVX    @DPTR,A
   \   000044   88..         MOV     ?V0 + 2,R0
   \   000046   89..         MOV     ?V0 + 3,R1
    357          
    358              if (dstAddr.addrMode == afAddr64Bit)
   \   000048   7403         MOV     A,#0x3
   \   00004A   6A           XRL     A,R2
   \   00004B   7023         JNZ     ??MT_AfDataRequest_1
    359              {
    360                (void)osal_memcpy(dstAddr.addr.extAddr, pBuf, Z_EXTADDR_LEN);
   \   00004D                ; Setup parameters for call to function osal_memcpy
   \   00004D   88..         MOV     ?V0 + 8,R0
   \   00004F   89..         MOV     ?V0 + 9,R1
   \   000051   75..00       MOV     ?V0 + 10,#0x0
   \   000054   78..         MOV     R0,#?V0 + 8
   \   000056   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   000059   7C08         MOV     R4,#0x8
   \   00005B   7D00         MOV     R5,#0x0
   \   00005D   7405         MOV     A,#0x5
   \   00005F   12....       LCALL   ?XSTACK_DISP0_8
   \   000062   AA82         MOV     R2,DPL
   \   000064   AB83         MOV     R3,DPH
   \   000066   12....       LCALL   ??osal_memcpy?relay
   \   000069   7403         MOV     A,#0x3
   \   00006B   12....       LCALL   ?DEALLOC_XSTACK8
   \   00006E   800D         SJMP    ??CrossCallReturnLabel_46
    361              }
    362              else
    363              {
    364                dstAddr.addr.shortAddr = BUILD_UINT16(pBuf[0], pBuf[1]);
   \                     ??MT_AfDataRequest_1:
   \   000070   8882         MOV     DPL,R0
   \   000072   8983         MOV     DPH,R1
   \   000074   12....       LCALL   ?Subroutine18 & 0xFFFF
    365              }
   \                     ??CrossCallReturnLabel_118:
   \   000077   12....       LCALL   ?XSTACK_DISP0_8
   \   00007A   12....       LCALL   ?Subroutine32 & 0xFFFF
    366              pBuf += Z_EXTADDR_LEN;
   \                     ??CrossCallReturnLabel_46:
   \   00007D   E5..         MOV     A,?V0 + 2
   \   00007F   2408         ADD     A,#0x8
   \   000081   12....       LCALL   ??Subroutine54_0 & 0xFFFF
    367          
    368              dstAddr.endPoint = *pBuf++;
   \                     ??CrossCallReturnLabel_92:
   \   000084   C0E0         PUSH    A
   \   000086   740B         MOV     A,#0xb
   \   000088   12....       LCALL   ?XSTACK_DISP0_8
   \   00008B   D0E0         POP     A
   \   00008D   12....       LCALL   ?Subroutine31 & 0xFFFF
    369              dstAddr.panId = BUILD_UINT16(pBuf[0], pBuf[1]);
   \                     ??CrossCallReturnLabel_42:
   \   000090   E0           MOVX    A,@DPTR
   \   000091   FA           MOV     R2,A
   \   000092   A3           INC     DPTR
   \   000093   E0           MOVX    A,@DPTR
   \   000094   F9           MOV     R1,A
   \   000095   EA           MOV     A,R2
   \   000096   F8           MOV     R0,A
   \   000097   740C         MOV     A,#0xc
   \   000099   12....       LCALL   ?XSTACK_DISP0_8
   \   00009C   12....       LCALL   ?Subroutine32 & 0xFFFF
    370              pBuf += 2;
   \                     ??CrossCallReturnLabel_47:
   \   00009F   12....       LCALL   ?Subroutine38 & 0xFFFF
    371            }
   \                     ??CrossCallReturnLabel_64:
   \   0000A2   8035         SJMP    ??MT_AfDataRequest_2
    372            else
    373            {
    374              /* Destination address */
    375              dstAddr.addrMode = afAddr16Bit;
   \                     ??MT_AfDataRequest_0:
   \   0000A4   740A         MOV     A,#0xa
   \   0000A6   12....       LCALL   ?XSTACK_DISP0_8
   \   0000A9   7402         MOV     A,#0x2
   \   0000AB   F0           MOVX    @DPTR,A
    376              dstAddr.addr.shortAddr = BUILD_UINT16(pBuf[0], pBuf[1]);
   \   0000AC   85..82       MOV     DPL,?V0 + 2
   \   0000AF   85..83       MOV     DPH,?V0 + 3
   \   0000B2   E0           MOVX    A,@DPTR
   \   0000B3   FA           MOV     R2,A
   \   0000B4   8882         MOV     DPL,R0
   \   0000B6   8983         MOV     DPH,R1
   \   0000B8   12....       LCALL   ??Subroutine59_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_117:
   \   0000BB   12....       LCALL   ?XSTACK_DISP0_8
   \   0000BE   12....       LCALL   ?Subroutine32 & 0xFFFF
    377              pBuf += 2;
   \                     ??CrossCallReturnLabel_48:
   \   0000C1   12....       LCALL   ?Subroutine23 & 0xFFFF
    378          
    379              /* Destination endpoint */
    380              dstAddr.endPoint = *pBuf++;
   \                     ??CrossCallReturnLabel_90:
   \   0000C4   C0E0         PUSH    A
   \   0000C6   740B         MOV     A,#0xb
   \   0000C8   12....       LCALL   ?XSTACK_DISP0_8
   \   0000CB   D0E0         POP     A
   \   0000CD   12....       LCALL   ?Subroutine31 & 0xFFFF
    381              dstAddr.panId = 0;
   \                     ??CrossCallReturnLabel_43:
   \   0000D0   740C         MOV     A,#0xc
   \   0000D2   12....       LCALL   ?XSTACK_DISP0_8
   \   0000D5   E4           CLR     A
   \   0000D6   F0           MOVX    @DPTR,A
   \   0000D7   A3           INC     DPTR
   \   0000D8   F0           MOVX    @DPTR,A
    382            }
    383          
    384            /* Source endpoint */
    385            epDesc = afFindEndPointDesc(*pBuf++);
   \                     ??MT_AfDataRequest_2:
   \   0000D9                ; Setup parameters for call to function afFindEndPointDesc
   \   0000D9   85..82       MOV     DPL,?V0 + 2
   \   0000DC   85..83       MOV     DPH,?V0 + 3
   \   0000DF   E0           MOVX    A,@DPTR
   \   0000E0   F9           MOV     R1,A
   \   0000E1   12....       LCALL   ??afFindEndPointDesc?relay
   \   0000E4   8A..         MOV     ?V0 + 12,R2
   \   0000E6   8B..         MOV     ?V0 + 13,R3
   \   0000E8   85..82       MOV     DPL,?V0 + 2
   \   0000EB   85..83       MOV     DPH,?V0 + 3
   \   0000EE   A3           INC     DPTR
   \   0000EF   8582..       MOV     ?V0 + 2,DPL
   \   0000F2   8583..       MOV     ?V0 + 3,DPH
    386          
    387            /* ClusterId */
    388            cId = BUILD_UINT16(pBuf[0], pBuf[1]);
   \   0000F5   12....       LCALL   ??Subroutine60_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_120:
   \   0000F8   F5..         MOV     ?V0 + 0,A
   \   0000FA   E4           CLR     A
   \   0000FB   39           ADDC    A,R1
   \   0000FC   F5..         MOV     ?V0 + 1,A
    389            pBuf +=2;
   \   0000FE   12....       LCALL   ?Subroutine23 & 0xFFFF
    390          
    391            /* TransId */
    392            transId = *pBuf++;
   \                     ??CrossCallReturnLabel_91:
   \   000101   C0E0         PUSH    A
   \   000103   7401         MOV     A,#0x1
   \   000105   12....       LCALL   ?XSTACK_DISP0_8
   \   000108   D0E0         POP     A
   \   00010A   12....       LCALL   ?Subroutine50 & 0xFFFF
    393          
    394            /* TxOption */
    395            txOpts = *pBuf++;
   \                     ??CrossCallReturnLabel_84:
   \   00010D   12....       LCALL   ?Subroutine44 & 0xFFFF
    396          
    397            /* Radius */
    398            radius = *pBuf++;
   \                     ??CrossCallReturnLabel_69:
   \   000110   A3           INC     DPTR
   \   000111   8582..       MOV     ?V0 + 2,DPL
   \   000114   8583..       MOV     ?V0 + 3,DPH
    399          
    400            /* Length */
    401            if (cmd1 == MT_AF_DATA_REQUEST_EXT)
   \   000117   A3           INC     DPTR
   \   000118   A882         MOV     R0,DPL
   \   00011A   A983         MOV     R1,DPH
   \   00011C   85..82       MOV     DPL,?V0 + 2
   \   00011F   85..83       MOV     DPH,?V0 + 3
   \   000122   E0           MOVX    A,@DPTR
   \   000123   F5..         MOV     ?V0 + 8,A
   \   000125   7402         MOV     A,#0x2
   \   000127   65..         XRL     A,?V0 + 6
   \   000129   701B         JNZ     ??MT_AfDataRequest_3
    402            {
    403              dataLen = BUILD_UINT16(pBuf[0], pBuf[1]);
   \   00012B   8882         MOV     DPL,R0
   \   00012D   8983         MOV     DPH,R1
   \   00012F   E0           MOVX    A,@DPTR
   \   000130   F9           MOV     R1,A
   \   000131   E5..         MOV     A,?V0 + 8
   \   000133   2400         ADD     A,#0x0
   \   000135   FE           MOV     R6,A
   \   000136   E4           CLR     A
   \   000137   39           ADDC    A,R1
   \   000138   FF           MOV     R7,A
    404              tempLen = dataLen + MT_AF_REQ_MSG_LEN + MT_AF_REQ_MSG_EXT;
   \   000139   EE           MOV     A,R6
   \   00013A   2414         ADD     A,#0x14
   \   00013C   F8           MOV     R0,A
   \   00013D   EF           MOV     A,R7
   \   00013E   3400         ADDC    A,#0x0
   \   000140   F9           MOV     R1,A
    405              pBuf += 2;
   \   000141   12....       LCALL   ?Subroutine38 & 0xFFFF
    406            }
   \                     ??CrossCallReturnLabel_65:
   \   000144   8013         SJMP    ??MT_AfDataRequest_4
    407            else
    408            {
    409              dataLen = *pBuf++;
   \                     ??MT_AfDataRequest_3:
   \   000146   85..82       MOV     DPL,?V0 + 8
   \   000149   AE82         MOV     R6,DPL
   \   00014B   7F00         MOV     R7,#0x0
   \   00014D   88..         MOV     ?V0 + 2,R0
   \   00014F   89..         MOV     ?V0 + 3,R1
    410              tempLen = dataLen + MT_AF_REQ_MSG_LEN;
   \   000151   EE           MOV     A,R6
   \   000152   240A         ADD     A,#0xa
   \   000154   F8           MOV     R0,A
   \   000155   E4           CLR     A
   \   000156   3400         ADDC    A,#0x0
   \   000158   F9           MOV     R1,A
    411            }
    412          
    413            if ( epDesc == NULL )
   \                     ??MT_AfDataRequest_4:
   \   000159   E5..         MOV     A,?V0 + 12
   \   00015B   45..         ORL     A,?V0 + 13
   \   00015D   6011         JZ      ??MT_AfDataRequest_5
    414            {
    415              retValue = afStatus_INVALID_PARAMETER;
    416            }
    417            else if (tempLen > (uint16)MT_RPC_DATA_MAX)
   \   00015F   C3           CLR     C
   \   000160   E8           MOV     A,R0
   \   000161   94FB         SUBB    A,#-0x5
   \   000163   E9           MOV     A,R1
   \   000164   9400         SUBB    A,#0x0
   \   000166   5003         JNC     $+5
   \   000168   02....       LJMP    ??MT_AfDataRequest_6 & 0xFFFF
    418            {
    419              if (pMtAfDataReq != NULL)
   \   00016B   12....       LCALL   ?Subroutine5 & 0xFFFF
   \                     ??CrossCallReturnLabel_111:
   \   00016E   600B         JZ      ??MT_AfDataRequest_7
    420              {
    421                retValue = afStatus_INVALID_PARAMETER;
   \                     ??MT_AfDataRequest_5:
   \   000170   85..82       MOV     DPL,?XSP + 0
   \   000173   85..83       MOV     DPH,?XSP + 1
   \   000176   7402         MOV     A,#0x2
   \   000178   02....       LJMP    ??MT_AfDataRequest_8 & 0xFFFF
    422              }
    423              else if ((pMtAfDataReq = osal_mem_alloc(sizeof(mtAfDataReq_t) + dataLen)) == NULL)
   \                     ??MT_AfDataRequest_7:
   \   00017B                ; Setup parameters for call to function osal_mem_alloc
   \   00017B   EE           MOV     A,R6
   \   00017C   2418         ADD     A,#0x18
   \   00017E   FA           MOV     R2,A
   \   00017F   EF           MOV     A,R7
   \   000180   3400         ADDC    A,#0x0
   \   000182   FB           MOV     R3,A
   \   000183   12....       LCALL   ??osal_mem_alloc?relay
   \   000186   90....       MOV     DPTR,#pMtAfDataReq
   \   000189   EA           MOV     A,R2
   \   00018A   F0           MOVX    @DPTR,A
   \   00018B   A3           INC     DPTR
   \   00018C   EB           MOV     A,R3
   \   00018D   F0           MOVX    @DPTR,A
   \   00018E   12....       LCALL   ?Subroutine5 & 0xFFFF
   \                     ??CrossCallReturnLabel_112:
   \   000191   85..82       MOV     DPL,?XSP + 0
   \   000194   85..83       MOV     DPH,?XSP + 1
   \   000197   7005         JNZ     ??MT_AfDataRequest_9
    424              {
    425                retValue = afStatus_MEM_FAIL;
   \   000199   7410         MOV     A,#0x10
   \   00019B   02....       LJMP    ??MT_AfDataRequest_8 & 0xFFFF
    426              }
    427              else
    428              {
    429                retValue = afStatus_SUCCESS;
   \                     ??MT_AfDataRequest_9:
   \   00019E   E4           CLR     A
   \   00019F   F0           MOVX    @DPTR,A
    430          
    431                pMtAfDataReq->data = (uint8 *)(pMtAfDataReq+1);
   \   0001A0   90....       MOV     DPTR,#pMtAfDataReq
   \   0001A3   E0           MOVX    A,@DPTR
   \   0001A4   2418         ADD     A,#0x18
   \   0001A6   FA           MOV     R2,A
   \   0001A7   A3           INC     DPTR
   \   0001A8   E0           MOVX    A,@DPTR
   \   0001A9   3400         ADDC    A,#0x0
   \   0001AB   FB           MOV     R3,A
   \   0001AC   12....       LCALL   ?Subroutine22 & 0xFFFF
   \                     ??CrossCallReturnLabel_27:
   \   0001AF   EA           MOV     A,R2
   \   0001B0   F0           MOVX    @DPTR,A
   \   0001B1   A3           INC     DPTR
   \   0001B2   EB           MOV     A,R3
   \   0001B3   F0           MOVX    @DPTR,A
    432                (void)osal_memcpy(&(pMtAfDataReq->dstAddr), &dstAddr, sizeof(afAddrType_t));
   \   0001B4                ; Setup parameters for call to function osal_memcpy
   \   0001B4   7402         MOV     A,#0x2
   \   0001B6   12....       LCALL   ?XSTACK_DISP0_8
   \   0001B9   A982         MOV     R1,DPL
   \   0001BB   AA83         MOV     R2,DPH
   \   0001BD   89..         MOV     ?V0 + 8,R1
   \   0001BF   8A..         MOV     ?V0 + 9,R2
   \   0001C1   75..00       MOV     ?V0 + 10,#0x0
   \   0001C4   78..         MOV     R0,#?V0 + 8
   \   0001C6   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   0001C9   7C0C         MOV     R4,#0xc
   \   0001CB   7D00         MOV     R5,#0x0
   \   0001CD   12....       LCALL   ?Subroutine20 & 0xFFFF
   \                     ??CrossCallReturnLabel_23:
   \   0001D0   12....       LCALL   ??osal_memcpy?relay
   \   0001D3   7403         MOV     A,#0x3
   \   0001D5   12....       LCALL   ?DEALLOC_XSTACK8
    433                pMtAfDataReq->epDesc = epDesc;
   \   0001D8   12....       LCALL   ?Subroutine11 & 0xFFFF
   \                     ??CrossCallReturnLabel_8:
   \   0001DB   E5..         MOV     A,?V0 + 12
   \   0001DD   F0           MOVX    @DPTR,A
   \   0001DE   A3           INC     DPTR
   \   0001DF   E5..         MOV     A,?V0 + 13
   \   0001E1   F0           MOVX    @DPTR,A
    434                pMtAfDataReq->cId = cId;
   \   0001E2   12....       LCALL   ?Subroutine12 & 0xFFFF
   \                     ??CrossCallReturnLabel_10:
   \   0001E5   E5..         MOV     A,?V0 + 0
   \   0001E7   F0           MOVX    @DPTR,A
   \   0001E8   A3           INC     DPTR
   \   0001E9   E5..         MOV     A,?V0 + 1
   \   0001EB   F0           MOVX    @DPTR,A
    435                pMtAfDataReq->dataLen = dataLen;
   \   0001EC   12....       LCALL   ?Subroutine13 & 0xFFFF
   \                     ??CrossCallReturnLabel_12:
   \   0001EF   EE           MOV     A,R6
   \   0001F0   F0           MOVX    @DPTR,A
   \   0001F1   A3           INC     DPTR
   \   0001F2   EF           MOV     A,R7
   \   0001F3   F0           MOVX    @DPTR,A
    436                pMtAfDataReq->transId = transId;
   \   0001F4   7401         MOV     A,#0x1
   \   0001F6   12....       LCALL   ?XSTACK_DISP0_8
   \   0001F9   E0           MOVX    A,@DPTR
   \   0001FA   C0E0         PUSH    A
   \   0001FC   12....       LCALL   ?Subroutine45 & 0xFFFF
   \                     ??CrossCallReturnLabel_72:
   \   0001FF   2414         ADD     A,#0x14
   \   000201   12....       LCALL   ??Subroutine55_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_99:
   \   000204   D0E0         POP     A
   \   000206   F0           MOVX    @DPTR,A
    437                pMtAfDataReq->txOpts = txOpts;
   \   000207   12....       LCALL   ?Subroutine14 & 0xFFFF
   \                     ??CrossCallReturnLabel_14:
   \   00020A   E5..         MOV     A,?V0 + 4
   \   00020C   F0           MOVX    @DPTR,A
    438                pMtAfDataReq->radius = radius;
   \   00020D   90....       MOV     DPTR,#pMtAfDataReq
   \   000210   E0           MOVX    A,@DPTR
   \   000211   F8           MOV     R0,A
   \   000212   A3           INC     DPTR
   \   000213   12....       LCALL   ?Subroutine17 & 0xFFFF
   \                     ??CrossCallReturnLabel_19:
   \   000216   E5..         MOV     A,?V0 + 5
   \   000218   12....       LCALL   ?Subroutine10 & 0xFFFF
    439          
    440                // Setup to time-out the huge outgoing item if host does not MT_AF_DATA_STORE it.
    441                pMtAfDataReq->tick = MT_AF_EXEC_CNT;
   \                     ??CrossCallReturnLabel_6:
   \   00021B   740F         MOV     A,#0xf
   \   00021D   F0           MOVX    @DPTR,A
    442                if (ZSuccess != osal_start_timerEx(MT_TaskID, MT_AF_EXEC_EVT, MT_AF_EXEC_DLY))
   \   00021E                ; Setup parameters for call to function osal_start_timerEx
   \   00021E   90....       MOV     DPTR,#__Constant_3e8
   \   000221   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   000224   7A08         MOV     R2,#0x8
   \   000226   7B00         MOV     R3,#0x0
   \   000228   90....       MOV     DPTR,#MT_TaskID
   \   00022B   E0           MOVX    A,@DPTR
   \   00022C   F9           MOV     R1,A
   \   00022D   12....       LCALL   ??osal_start_timerEx?relay
   \   000230   7404         MOV     A,#0x4
   \   000232   12....       LCALL   ?DEALLOC_XSTACK8
   \   000235   E9           MOV     A,R1
   \   000236   6055         JZ      ??MT_AfDataRequest_10
    443                {
    444                  (void)osal_set_event(MT_TaskID, MT_AF_EXEC_EVT);
   \   000238                ; Setup parameters for call to function osal_set_event
   \   000238   7A08         MOV     R2,#0x8
   \   00023A   7B00         MOV     R3,#0x0
   \   00023C   90....       MOV     DPTR,#MT_TaskID
   \   00023F   E0           MOVX    A,@DPTR
   \   000240   F9           MOV     R1,A
   \   000241   12....       LCALL   ??osal_set_event?relay
   \   000244   8047         SJMP    ??MT_AfDataRequest_10
    445                }
    446              }
    447            }
    448            else
    449            {
    450              retValue = AF_DataRequest(&dstAddr, epDesc, cId, dataLen, pBuf, &transId, txOpts, radius);
   \                     ??MT_AfDataRequest_6:
   \   000246                ; Setup parameters for call to function AF_DataRequest
   \   000246   78..         MOV     R0,#?V0 + 5
   \   000248   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   00024B   7402         MOV     A,#0x2
   \   00024D   12....       LCALL   ?XSTACK_DISP0_8
   \   000250   8582..       MOV     ?V0 + 8,DPL
   \   000253   8583..       MOV     ?V0 + 9,DPH
   \   000256   78..         MOV     R0,#?V0 + 8
   \   000258   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00025B   78..         MOV     R0,#?V0 + 2
   \   00025D   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000260   8E..         MOV     ?V0 + 2,R6
   \   000262   8F..         MOV     ?V0 + 3,R7
   \   000264   78..         MOV     R0,#?V0 + 2
   \   000266   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000269   78..         MOV     R0,#?V0 + 0
   \   00026B   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00026E   A9..         MOV     R1,?V0 + 4
   \   000270   AC..         MOV     R4,?V0 + 12
   \   000272   AD..         MOV     R5,?V0 + 13
   \   000274   740B         MOV     A,#0xb
   \   000276   12....       LCALL   ?XSTACK_DISP0_8
   \   000279   AA82         MOV     R2,DPL
   \   00027B   AB83         MOV     R3,DPH
   \   00027D   12....       LCALL   ??AF_DataRequest?relay
   \   000280   7409         MOV     A,#0x9
   \   000282   12....       LCALL   ?DEALLOC_XSTACK8
   \   000285   E9           MOV     A,R1
   \   000286   85..82       MOV     DPL,?XSP + 0
   \   000289   85..83       MOV     DPH,?XSP + 1
   \                     ??MT_AfDataRequest_8:
   \   00028C   F0           MOVX    @DPTR,A
    451            }
    452          
    453            if (MT_RPC_CMD_SREQ == (cmd0 & MT_RPC_CMD_TYPE_MASK))
   \                     ??MT_AfDataRequest_10:
   \   00028D   74E0         MOV     A,#-0x20
   \   00028F   55..         ANL     A,?V0 + 7
   \   000291   6420         XRL     A,#0x20
   \   000293   7013         JNZ     ??MT_AfDataRequest_11
    454            {
    455              MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP|(uint8)MT_RPC_SYS_AF), cmd1, 1, &retValue);
   \   000295                ; Setup parameters for call to function MT_BuildAndSendZToolResponse
   \   000295   85..82       MOV     DPL,?XSP + 0
   \   000298   85..83       MOV     DPH,?XSP + 1
   \   00029B   AC82         MOV     R4,DPL
   \   00029D   AD83         MOV     R5,DPH
   \   00029F   7B01         MOV     R3,#0x1
   \   0002A1   AA..         MOV     R2,?V0 + 6
   \   0002A3   7964         MOV     R1,#0x64
   \   0002A5   12....       LCALL   ??MT_BuildAndSendZToolResponse?relay
    456            }
    457          }
   \                     ??MT_AfDataRequest_11:
   \   0002A8                REQUIRE ?Subroutine2
   \   0002A8                ; // Fall through to label ?Subroutine2

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine2:
   \   000000   740E         MOV     A,#0xe
   \   000002   12....       LCALL   ?DEALLOC_XSTACK8
   \   000005   7F0E         MOV     R7,#0xe
   \   000007   02....       LJMP    ?BANKED_LEAVE_XDATA

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine38:
   \   000000   E5..         MOV     A,?V0 + 2
   \   000002   2402         ADD     A,#0x2
   \   000004   F5..         MOV     ?V0 + 2,A
   \   000006   E5..         MOV     A,?V0 + 3
   \   000008   3400         ADDC    A,#0x0
   \   00000A   F5..         MOV     ?V0 + 3,A
   \   00000C   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine31:
   \   000000   12....       LCALL   ?Subroutine50 & 0xFFFF
   \                     ??CrossCallReturnLabel_85:
   \   000003   8582..       MOV     ?V0 + 2,DPL
   \   000006   8583..       MOV     ?V0 + 3,DPH
   \   000009   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine50:
   \   000000   F0           MOVX    @DPTR,A
   \   000001   85..82       MOV     DPL,?V0 + 2
   \   000004   85..83       MOV     DPH,?V0 + 3
   \   000007   A3           INC     DPTR
   \   000008   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine23:
   \   000000   E5..         MOV     A,?V0 + 2
   \   000002   2402         ADD     A,#0x2
   \   000004                REQUIRE ??Subroutine54_0
   \   000004                ; // Fall through to label ??Subroutine54_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine54_0:
   \   000000   F5..         MOV     ?V0 + 2,A
   \   000002   E5..         MOV     A,?V0 + 3
   \   000004   12....       LCALL   ?Subroutine41 & 0xFFFF
   \                     ??CrossCallReturnLabel_94:
   \   000007   E0           MOVX    A,@DPTR
   \   000008   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine41:
   \   000000   3400         ADDC    A,#0x0
   \   000002   F5..         MOV     ?V0 + 3,A
   \   000004   85..82       MOV     DPL,?V0 + 2
   \   000007   F583         MOV     DPH,A
   \   000009   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine18:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   FA           MOV     R2,A
   \   000002   A3           INC     DPTR
   \   000003                REQUIRE ??Subroutine59_0
   \   000003                ; // Fall through to label ??Subroutine59_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine59_0:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   F9           MOV     R1,A
   \   000002   EA           MOV     A,R2
   \   000003   F8           MOV     R0,A
   \   000004   7402         MOV     A,#0x2
   \   000006   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine60_0:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   FA           MOV     R2,A
   \   000002   A3           INC     DPTR
   \   000003   E0           MOVX    A,@DPTR
   \   000004   F9           MOV     R1,A
   \   000005   EA           MOV     A,R2
   \   000006   2400         ADD     A,#0x0
   \   000008   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine44:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   F5..         MOV     ?V0 + 4,A
   \   000003   A3           INC     DPTR
   \   000004   E0           MOVX    A,@DPTR
   \   000005   F5..         MOV     ?V0 + 5,A
   \   000007   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine22:
   \   000000   90....       MOV     DPTR,#pMtAfDataReq
   \   000003   E0           MOVX    A,@DPTR
   \   000004   F8           MOV     R0,A
   \   000005   A3           INC     DPTR
   \   000006   E0           MOVX    A,@DPTR
   \   000007   F583         MOV     DPH,A
   \   000009   8882         MOV     DPL,R0
   \   00000B   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine20:
   \   000000   90....       MOV     DPTR,#pMtAfDataReq
   \   000003   E0           MOVX    A,@DPTR
   \   000004   2402         ADD     A,#0x2
   \   000006   FA           MOV     R2,A
   \   000007   A3           INC     DPTR
   \   000008   E0           MOVX    A,@DPTR
   \   000009   3400         ADDC    A,#0x0
   \   00000B   FB           MOV     R3,A
   \   00000C   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine17:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   C8           XCH     A,R0
   \   000002   2416         ADD     A,#0x16
   \   000004   12....       LCALL   ??Subroutine55_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_104:
   \   000007   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine14:
   \   000000   12....       LCALL   ?Subroutine45 & 0xFFFF
   \                     ??CrossCallReturnLabel_76:
   \   000003   2415         ADD     A,#0x15
   \   000005   12....       LCALL   ??Subroutine55_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_103:
   \   000008   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine13:
   \   000000   12....       LCALL   ?Subroutine45 & 0xFFFF
   \                     ??CrossCallReturnLabel_75:
   \   000003   2412         ADD     A,#0x12
   \   000005   12....       LCALL   ??Subroutine55_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_102:
   \   000008   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine45:
   \   000000   90....       MOV     DPTR,#pMtAfDataReq
   \   000003   E0           MOVX    A,@DPTR
   \   000004   F8           MOV     R0,A
   \   000005   A3           INC     DPTR
   \   000006   E0           MOVX    A,@DPTR
   \   000007   C8           XCH     A,R0
   \   000008   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine12:
   \   000000   12....       LCALL   ?Subroutine45 & 0xFFFF
   \                     ??CrossCallReturnLabel_74:
   \   000003   2410         ADD     A,#0x10
   \   000005   12....       LCALL   ??Subroutine55_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_101:
   \   000008   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine11:
   \   000000   12....       LCALL   ?Subroutine45 & 0xFFFF
   \                     ??CrossCallReturnLabel_73:
   \   000003   240E         ADD     A,#0xe
   \   000005   12....       LCALL   ??Subroutine55_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_100:
   \   000008   22           RET
    458          
    459          #if defined ( ZIGBEE_SOURCE_ROUTING )
    460          
    461          /***************************************************************************************************
    462           * @fn      MT_AfDataRequestSrcRtg
    463           *
    464           * @brief   Process AF Register command
    465           *
    466           * @param   pBuf - pointer to the received buffer
    467           *
    468           * @return  none
    469           ***************************************************************************************************/

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    470          void MT_AfDataRequestSrcRtg(uint8 *pBuf)
   \                     MT_AfDataRequestSrcRtg:
    471          {
   \   000000   74EA         MOV     A,#-0x16
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 22
   \   000005                ; Auto size: 14
   \   000005   74F2         MOV     A,#-0xe
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   EA           MOV     A,R2
   \   00000B   FE           MOV     R6,A
   \   00000C   EB           MOV     A,R3
   \   00000D   FF           MOV     R7,A
    472            uint8 cmdId, dataLen = 0;
    473            uint8 retValue = ZFailure;
   \   00000E   85..82       MOV     DPL,?XSP + 0
   \   000011   85..83       MOV     DPH,?XSP + 1
   \   000014   7401         MOV     A,#0x1
   \   000016   12....       LCALL   ?Subroutine36 & 0xFFFF
    474            endPointDesc_t *epDesc;
    475            byte transId;
    476            afAddrType_t dstAddr;
    477            cId_t cId;
    478            byte txOpts, radius, srcEP, relayCnt;
    479            uint16 *pRelayList;
    480            uint8 i;
    481          
    482            /* parse header */
    483            cmdId = pBuf[MT_RPC_POS_CMD1];
   \                     ??CrossCallReturnLabel_59:
   \   000019   A3           INC     DPTR
   \   00001A   E0           MOVX    A,@DPTR
   \   00001B   F5..         MOV     ?V0 + 4,A
    484            pBuf += MT_RPC_FRAME_HDR_SZ;
   \   00001D   EE           MOV     A,R6
   \   00001E   2403         ADD     A,#0x3
   \   000020   FE           MOV     R6,A
   \   000021   EF           MOV     A,R7
   \   000022   3400         ADDC    A,#0x0
   \   000024   FF           MOV     R7,A
    485          
    486            /* Destination address */
    487            /* Initialize the panID field to zero to avoid inter-pan */
    488            osal_memset( &dstAddr, 0, sizeof(afAddrType_t) );
   \   000025                ; Setup parameters for call to function osal_memset
   \   000025   7C0C         MOV     R4,#0xc
   \   000027   7D00         MOV     R5,#0x0
   \   000029   7900         MOV     R1,#0x0
   \   00002B   7402         MOV     A,#0x2
   \   00002D   12....       LCALL   ?XSTACK_DISP0_8
   \   000030   AA82         MOV     R2,DPL
   \   000032   AB83         MOV     R3,DPH
   \   000034   12....       LCALL   ??osal_memset?relay
    489            dstAddr.addrMode = afAddr16Bit;
   \   000037   740A         MOV     A,#0xa
   \   000039   12....       LCALL   ?XSTACK_DISP0_8
   \   00003C   7402         MOV     A,#0x2
   \   00003E   F0           MOVX    @DPTR,A
    490            dstAddr.addr.shortAddr = BUILD_UINT16(pBuf[0], pBuf[1]);
   \   00003F   8E82         MOV     DPL,R6
   \   000041   8F83         MOV     DPH,R7
   \   000043   12....       LCALL   ?Subroutine18 & 0xFFFF
   \                     ??CrossCallReturnLabel_119:
   \   000046   12....       LCALL   ?XSTACK_DISP0_8
   \   000049   12....       LCALL   ?Subroutine32 & 0xFFFF
    491            pBuf += 2;
   \                     ??CrossCallReturnLabel_49:
   \   00004C   12....       LCALL   ?Subroutine24 & 0xFFFF
    492          
    493            /* Destination endpoint */
    494            dstAddr.endPoint = *pBuf++;
   \                     ??CrossCallReturnLabel_114:
   \   00004F   C0E0         PUSH    A
   \   000051   740B         MOV     A,#0xb
   \   000053   12....       LCALL   ?XSTACK_DISP0_8
   \   000056   D0E0         POP     A
   \   000058   12....       LCALL   ?Subroutine36 & 0xFFFF
    495          
    496            /* Source endpoint */
    497            srcEP = *pBuf++;
   \                     ??CrossCallReturnLabel_60:
   \   00005B   E0           MOVX    A,@DPTR
   \   00005C   F9           MOV     R1,A
   \   00005D   A3           INC     DPTR
   \   00005E   AE82         MOV     R6,DPL
   \   000060   AF83         MOV     R7,DPH
    498            epDesc = afFindEndPointDesc( srcEP );
   \   000062                ; Setup parameters for call to function afFindEndPointDesc
   \   000062   12....       LCALL   ??afFindEndPointDesc?relay
   \   000065   8A..         MOV     ?V0 + 2,R2
   \   000067   8B..         MOV     ?V0 + 3,R3
    499          
    500            /* ClusterId */
    501            cId = BUILD_UINT16(pBuf[0], pBuf[1]);
   \   000069   12....       LCALL   ?Subroutine15 & 0xFFFF
   \                     ??CrossCallReturnLabel_121:
   \   00006C   F5..         MOV     ?V0 + 6,A
   \   00006E   E4           CLR     A
   \   00006F   39           ADDC    A,R1
   \   000070   F5..         MOV     ?V0 + 7,A
    502            pBuf +=2;
   \   000072   12....       LCALL   ?Subroutine24 & 0xFFFF
    503          
    504            /* TransId */
    505            transId = *pBuf++;
   \                     ??CrossCallReturnLabel_115:
   \   000075   C0E0         PUSH    A
   \   000077   7401         MOV     A,#0x1
   \   000079   12....       LCALL   ?XSTACK_DISP0_8
   \   00007C   D0E0         POP     A
   \   00007E   12....       LCALL   ?Subroutine36 & 0xFFFF
    506          
    507            /* TxOption */
    508            txOpts = *pBuf++;
   \                     ??CrossCallReturnLabel_61:
   \   000081   E0           MOVX    A,@DPTR
   \   000082   F5..         MOV     ?V0 + 5,A
   \   000084   A3           INC     DPTR
    509          
    510            /* Radius */
    511            radius = *pBuf++;
   \   000085   E0           MOVX    A,@DPTR
   \   000086   F5..         MOV     ?V0 + 10,A
   \   000088   A3           INC     DPTR
    512          
    513            /* Source route relay count */
    514            relayCnt = *pBuf++;
   \   000089   E0           MOVX    A,@DPTR
   \   00008A   F5..         MOV     ?V0 + 11,A
   \   00008C   A3           INC     DPTR
   \   00008D   AE82         MOV     R6,DPL
   \   00008F   AF83         MOV     R7,DPH
    515          
    516            /* Convert the source route relay list */
    517            if( (pRelayList = osal_mem_alloc( relayCnt * sizeof( uint16 ))) != NULL )
   \   000091                ; Setup parameters for call to function osal_mem_alloc
   \   000091   C3           CLR     C
   \   000092   33           RLC     A
   \   000093   FA           MOV     R2,A
   \   000094   E4           CLR     A
   \   000095   33           RLC     A
   \   000096   FB           MOV     R3,A
   \   000097   12....       LCALL   ??osal_mem_alloc?relay
   \   00009A   8A..         MOV     ?V0 + 0,R2
   \   00009C   8B..         MOV     ?V0 + 1,R3
   \   00009E   EA           MOV     A,R2
   \   00009F   45..         ORL     A,?V0 + 1
   \   0000A1   7003         JNZ     $+5
   \   0000A3   02....       LJMP    ??MT_AfDataRequestSrcRtg_0 & 0xFFFF
    518            {
    519              for( i = 0; i < relayCnt; i++ )
   \   0000A6   7C00         MOV     R4,#0x0
   \   0000A8   802B         SJMP    ??MT_AfDataRequestSrcRtg_1
    520              {
    521                pRelayList[i]  = BUILD_UINT16( pBuf[0], pBuf[1] );
   \                     ??MT_AfDataRequestSrcRtg_2:
   \   0000AA   FA           MOV     R2,A
   \   0000AB   8882         MOV     DPL,R0
   \   0000AD   8983         MOV     DPH,R1
   \   0000AF   E0           MOVX    A,@DPTR
   \   0000B0   F9           MOV     R1,A
   \   0000B1   EA           MOV     A,R2
   \   0000B2   2400         ADD     A,#0x0
   \   0000B4   E4           CLR     A
   \   0000B5   39           ADDC    A,R1
   \   0000B6   FB           MOV     R3,A
   \   0000B7   EC           MOV     A,R4
   \   0000B8   33           RLC     A
   \   0000B9   F8           MOV     R0,A
   \   0000BA   E4           CLR     A
   \   0000BB   33           RLC     A
   \   0000BC   F9           MOV     R1,A
   \   0000BD   E5..         MOV     A,?V0 + 0
   \   0000BF   28           ADD     A,R0
   \   0000C0   F582         MOV     DPL,A
   \   0000C2   E5..         MOV     A,?V0 + 1
   \   0000C4   39           ADDC    A,R1
   \   0000C5   F583         MOV     DPH,A
   \   0000C7   EA           MOV     A,R2
   \   0000C8   F0           MOVX    @DPTR,A
   \   0000C9   A3           INC     DPTR
   \   0000CA   EB           MOV     A,R3
   \   0000CB   F0           MOVX    @DPTR,A
    522                pBuf += 2;
   \   0000CC   EE           MOV     A,R6
   \   0000CD   2402         ADD     A,#0x2
   \   0000CF   FE           MOV     R6,A
   \   0000D0   EF           MOV     A,R7
   \   0000D1   3400         ADDC    A,#0x0
   \   0000D3   FF           MOV     R7,A
    523              }
   \   0000D4   0C           INC     R4
   \                     ??MT_AfDataRequestSrcRtg_1:
   \   0000D5   8E82         MOV     DPL,R6
   \   0000D7   8F83         MOV     DPH,R7
   \   0000D9   A3           INC     DPTR
   \   0000DA   A882         MOV     R0,DPL
   \   0000DC   A983         MOV     R1,DPH
   \   0000DE   EC           MOV     A,R4
   \   0000DF   C3           CLR     C
   \   0000E0   95..         SUBB    A,?V0 + 11
   \   0000E2   8E82         MOV     DPL,R6
   \   0000E4   8F83         MOV     DPH,R7
   \   0000E6   E0           MOVX    A,@DPTR
   \   0000E7   40C1         JC      ??MT_AfDataRequestSrcRtg_2
    524          
    525              /* Data payload Length */
    526              dataLen = *pBuf++;
   \   0000E9   F5..         MOV     ?V0 + 12,A
   \   0000EB   E8           MOV     A,R0
   \   0000EC   FE           MOV     R6,A
   \   0000ED   E9           MOV     A,R1
   \   0000EE   FF           MOV     R7,A
    527          
    528              if ( epDesc == NULL )
   \   0000EF   E5..         MOV     A,?V0 + 2
   \   0000F1   45..         ORL     A,?V0 + 3
   \   0000F3   700A         JNZ     ??MT_AfDataRequestSrcRtg_3
    529              {
    530                retValue = afStatus_INVALID_PARAMETER;
   \   0000F5   85..82       MOV     DPL,?XSP + 0
   \   0000F8   85..83       MOV     DPH,?XSP + 1
   \   0000FB   7402         MOV     A,#0x2
   \   0000FD   805B         SJMP    ??MT_AfDataRequestSrcRtg_4
    531              }
    532              else
    533              {
    534                retValue = AF_DataRequestSrcRtg( &dstAddr, epDesc, cId, dataLen, pBuf,
    535                                               &transId, txOpts, radius, relayCnt, pRelayList );
   \                     ??MT_AfDataRequestSrcRtg_3:
   \   0000FF                ; Setup parameters for call to function AF_DataRequestSrcRtg
   \   0000FF   78..         MOV     R0,#?V0 + 0
   \   000101   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000104   E5..         MOV     A,?V0 + 11
   \   000106   F5..         MOV     ?V0 + 8,A
   \   000108   78..         MOV     R0,#?V0 + 8
   \   00010A   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   00010D   E5..         MOV     A,?V0 + 10
   \   00010F   F5..         MOV     ?V0 + 8,A
   \   000111   78..         MOV     R0,#?V0 + 8
   \   000113   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000116   7405         MOV     A,#0x5
   \   000118   12....       LCALL   ?XSTACK_DISP0_8
   \   00011B   8582..       MOV     ?V0 + 8,DPL
   \   00011E   8583..       MOV     ?V0 + 9,DPH
   \   000121   78..         MOV     R0,#?V0 + 8
   \   000123   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000126   8E..         MOV     ?V0 + 8,R6
   \   000128   8F..         MOV     ?V0 + 9,R7
   \   00012A   78..         MOV     R0,#?V0 + 8
   \   00012C   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00012F   75..00       MOV     ?V0 + 13,#0x0
   \   000132   78..         MOV     R0,#?V0 + 12
   \   000134   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000137   78..         MOV     R0,#?V0 + 6
   \   000139   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00013C   A9..         MOV     R1,?V0 + 5
   \   00013E   AC..         MOV     R4,?V0 + 2
   \   000140   AD..         MOV     R5,?V0 + 3
   \   000142   740E         MOV     A,#0xe
   \   000144   12....       LCALL   ?XSTACK_DISP0_8
   \   000147   AA82         MOV     R2,DPL
   \   000149   AB83         MOV     R3,DPH
   \   00014B   12....       LCALL   ??AF_DataRequestSrcRtg?relay
   \   00014E   740C         MOV     A,#0xc
   \   000150   12....       LCALL   ?DEALLOC_XSTACK8
   \   000153   E9           MOV     A,R1
   \   000154   85..82       MOV     DPL,?XSP + 0
   \   000157   85..83       MOV     DPH,?XSP + 1
   \                     ??MT_AfDataRequestSrcRtg_4:
   \   00015A   F0           MOVX    @DPTR,A
    536              }
    537          
    538              /* Free the memory allocated */
    539              osal_mem_free( pRelayList );
   \   00015B                ; Setup parameters for call to function osal_mem_free
   \   00015B   AA..         MOV     R2,?V0 + 0
   \   00015D   AB..         MOV     R3,?V0 + 1
   \   00015F   12....       LCALL   ??osal_mem_free?relay
   \   000162   8009         SJMP    ??MT_AfDataRequestSrcRtg_5
    540            }
    541            else
    542            {
    543              retValue = afStatus_MEM_FAIL;
   \                     ??MT_AfDataRequestSrcRtg_0:
   \   000164   85..82       MOV     DPL,?XSP + 0
   \   000167   85..83       MOV     DPH,?XSP + 1
   \   00016A   7410         MOV     A,#0x10
   \   00016C   F0           MOVX    @DPTR,A
    544            }
    545          
    546          
    547            /* Build and send back the response */
    548            MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_AF), cmdId, 1, &retValue);
   \                     ??MT_AfDataRequestSrcRtg_5:
   \   00016D                ; Setup parameters for call to function MT_BuildAndSendZToolResponse
   \   00016D   85..82       MOV     DPL,?XSP + 0
   \   000170   85..83       MOV     DPH,?XSP + 1
   \   000173   AC82         MOV     R4,DPL
   \   000175   AD83         MOV     R5,DPH
   \   000177   7B01         MOV     R3,#0x1
   \   000179   AA..         MOV     R2,?V0 + 4
   \   00017B   7964         MOV     R1,#0x64
   \   00017D   12....       LCALL   ??MT_BuildAndSendZToolResponse?relay
    549          }
   \   000180   02....       LJMP    ?Subroutine2 & 0xFFFF

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine36:
   \   000000   F0           MOVX    @DPTR,A
   \   000001   8E82         MOV     DPL,R6
   \   000003   8F83         MOV     DPH,R7
   \   000005   A3           INC     DPTR
   \   000006   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine24:
   \   000000   EE           MOV     A,R6
   \   000001   2402         ADD     A,#0x2
   \   000003                REQUIRE ??Subroutine58_0
   \   000003                ; // Fall through to label ??Subroutine58_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine58_0:
   \   000000   FE           MOV     R6,A
   \   000001   EF           MOV     A,R7
   \   000002   3400         ADDC    A,#0x0
   \   000004   FF           MOV     R7,A
   \   000005   8E82         MOV     DPL,R6
   \   000007   8F83         MOV     DPH,R7
   \   000009   E0           MOVX    A,@DPTR
   \   00000A   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine15:
   \   000000   8E82         MOV     DPL,R6
   \   000002   8F83         MOV     DPH,R7
   \   000004                REQUIRE ??Subroutine60_0
   \   000004                ; // Fall through to label ??Subroutine60_0
    550          #endif
    551          
    552          #if defined INTER_PAN
    553          /***************************************************************************************************
    554           * @fn      MT_AfInterPanCtl
    555           *
    556           * @brief   Process the AF Inter Pan control command.
    557           *
    558           * @param   pBuf - pointer to the received buffer
    559           *
    560           * @return  none
    561           ***************************************************************************************************/

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    562          static void MT_AfInterPanCtl(uint8 *pBuf)
   \                     MT_AfInterPanCtl:
    563          {
   \   000000   74F6         MOV     A,#-0xa
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 10
   \   000005                ; Auto size: 2
   \   000005   74FE         MOV     A,#-0x2
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
    564            uint8 cmd, rtrn;
    565            uint16 panId;
    566            endPointDesc_t *pEP;
    567          
    568            cmd = pBuf[MT_RPC_POS_CMD1];
   \   00000A   8A82         MOV     DPL,R2
   \   00000C   8B83         MOV     DPH,R3
   \   00000E   A3           INC     DPTR
   \   00000F   A3           INC     DPTR
   \   000010   E0           MOVX    A,@DPTR
   \   000011   FE           MOV     R6,A
    569            pBuf += MT_RPC_FRAME_HDR_SZ;
    570          
    571            switch (*pBuf++)  // Inter-pan request parameter.
   \   000012   EA           MOV     A,R2
   \   000013   2403         ADD     A,#0x3
   \   000015   F8           MOV     R0,A
   \   000016   EB           MOV     A,R3
   \   000017   12....       LCALL   ?Subroutine40 & 0xFFFF
   \                     ??CrossCallReturnLabel_66:
   \   00001A   A3           INC     DPTR
   \   00001B   AA82         MOV     R2,DPL
   \   00001D   AB83         MOV     R3,DPH
   \   00001F   8882         MOV     DPL,R0
   \   000021   8983         MOV     DPH,R1
   \   000023   E0           MOVX    A,@DPTR
   \   000024   600B         JZ      ??MT_AfInterPanCtl_0
   \   000026   14           DEC     A
   \   000027   600D         JZ      ??MT_AfInterPanCtl_1
   \   000029   14           DEC     A
   \   00002A   6016         JZ      ??MT_AfInterPanCtl_2
   \   00002C   14           DEC     A
   \   00002D   6036         JZ      ??MT_AfInterPanCtl_3
   \   00002F   8066         SJMP    ??MT_AfInterPanCtl_4
    572            {
    573            case InterPanClr:
    574              rtrn = StubAPS_SetIntraPanChannel();           // Switch channel back to the NIB channel.
   \                     ??MT_AfInterPanCtl_0:
   \   000031                ; Setup parameters for call to function StubAPS_SetIntraPanChannel
   \   000031   12....       LCALL   ??StubAPS_SetIntraPanChannel?relay
   \   000034   8009         SJMP    ??MT_AfInterPanCtl_5
    575              break;
    576          
    577            case InterPanSet:
    578              rtrn = StubAPS_SetInterPanChannel(*pBuf);      // Set channel for inter-pan communication.
   \                     ??MT_AfInterPanCtl_1:
   \   000036                ; Setup parameters for call to function StubAPS_SetInterPanChannel
   \   000036   8A82         MOV     DPL,R2
   \   000038   8B83         MOV     DPH,R3
   \   00003A   E0           MOVX    A,@DPTR
   \   00003B   F9           MOV     R1,A
   \   00003C   12....       LCALL   ??StubAPS_SetInterPanChannel?relay
   \                     ??MT_AfInterPanCtl_5:
   \   00003F   E9           MOV     A,R1
   \   000040   804D         SJMP    ??MT_AfInterPanCtl_6
    579              break;
    580          
    581            case InterPanReg:
    582              if ((pEP = afFindEndPointDesc(*pBuf)))
   \                     ??MT_AfInterPanCtl_2:
   \   000042                ; Setup parameters for call to function afFindEndPointDesc
   \   000042   8A82         MOV     DPL,R2
   \   000044   8B83         MOV     DPH,R3
   \   000046   E0           MOVX    A,@DPTR
   \   000047   F9           MOV     R1,A
   \   000048   12....       LCALL   ??afFindEndPointDesc?relay
   \   00004B   EA           MOV     A,R2
   \   00004C   4B           ORL     A,R3
   \   00004D   600C         JZ      ??MT_AfInterPanCtl_7
    583              {
    584                StubAPS_RegisterApp(pEP);
   \   00004F                ; Setup parameters for call to function StubAPS_RegisterApp
   \   00004F   12....       LCALL   ??StubAPS_RegisterApp?relay
    585                rtrn = SUCCESS;
   \   000052   85..82       MOV     DPL,?XSP + 0
   \   000055   85..83       MOV     DPH,?XSP + 1
   \   000058   E4           CLR     A
   \   000059   8044         SJMP    ??MT_AfInterPanCtl_8
    586              }
    587              else
    588              {
    589                rtrn = FAILURE;
   \                     ??MT_AfInterPanCtl_7:
   \   00005B   85..82       MOV     DPL,?XSP + 0
   \   00005E   85..83       MOV     DPH,?XSP + 1
   \   000061   7401         MOV     A,#0x1
   \   000063   803A         SJMP    ??MT_AfInterPanCtl_8
    590              }
    591              break;
    592          
    593            case InterPanChk:
    594              panId = BUILD_UINT16(pBuf[0], pBuf[1]);
    595              rtrn = (StubAPS_InterPan(panId, pBuf[2])) ? ZSuccess : ZFailure;
   \                     ??MT_AfInterPanCtl_3:
   \   000065                ; Setup parameters for call to function StubAPS_InterPan
   \   000065   8A82         MOV     DPL,R2
   \   000067   8B83         MOV     DPH,R3
   \   000069   A3           INC     DPTR
   \   00006A   A3           INC     DPTR
   \   00006B   E0           MOVX    A,@DPTR
   \   00006C   F9           MOV     R1,A
   \   00006D   8A82         MOV     DPL,R2
   \   00006F   8B83         MOV     DPH,R3
   \   000071   E0           MOVX    A,@DPTR
   \   000072   FC           MOV     R4,A
   \   000073   A3           INC     DPTR
   \   000074   E0           MOVX    A,@DPTR
   \   000075   FB           MOV     R3,A
   \   000076   EC           MOV     A,R4
   \   000077   FA           MOV     R2,A
   \   000078   12....       LCALL   ??StubAPS_InterPan?relay
   \   00007B   E9           MOV     A,R1
   \   00007C   6008         JZ      ??MT_AfInterPanCtl_9
   \   00007E   7401         MOV     A,#0x1
   \   000080   12....       LCALL   ?XSTACK_DISP0_8
   \   000083   E4           CLR     A
   \   000084   8007         SJMP    ??MT_AfInterPanCtl_10
   \                     ??MT_AfInterPanCtl_9:
   \   000086   7401         MOV     A,#0x1
   \   000088   12....       LCALL   ?XSTACK_DISP0_8
   \   00008B   7401         MOV     A,#0x1
   \                     ??MT_AfInterPanCtl_10:
   \   00008D   F0           MOVX    @DPTR,A
   \   00008E   E0           MOVX    A,@DPTR
   \                     ??MT_AfInterPanCtl_6:
   \   00008F   85..82       MOV     DPL,?XSP + 0
   \   000092   85..83       MOV     DPH,?XSP + 1
   \   000095   8008         SJMP    ??MT_AfInterPanCtl_8
    596              break;
    597          
    598            default:
    599              rtrn = afStatus_INVALID_PARAMETER;
   \                     ??MT_AfInterPanCtl_4:
   \   000097   85..82       MOV     DPL,?XSP + 0
   \   00009A   85..83       MOV     DPH,?XSP + 1
   \   00009D   7402         MOV     A,#0x2
    600              break;
    601            }
   \                     ??MT_AfInterPanCtl_8:
   \   00009F   12....       LCALL   ?Subroutine33 & 0xFFFF
    602          
    603            MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_AF), cmd, 1, &rtrn);
   \                     ??CrossCallReturnLabel_54:
   \   0000A2   12....       LCALL   ??MT_BuildAndSendZToolResponse?relay
    604          }
   \   0000A5   7402         MOV     A,#0x2
   \   0000A7   12....       LCALL   ?DEALLOC_XSTACK8
   \   0000AA   7F02         MOV     R7,#0x2
   \   0000AC   02....       LJMP    ?BANKED_LEAVE_XDATA

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine40:
   \   000000   3400         ADDC    A,#0x0
   \   000002   F9           MOV     R1,A
   \   000003   8882         MOV     DPL,R0
   \   000005   8983         MOV     DPH,R1
   \   000007   22           RET
    605          #endif
    606          
    607          /***************************************************************************************************
    608           * @fn      MT_AfDataConfirm
    609           *
    610           * @brief   Process
    611           *
    612           * @param   pBuf - pointer to the received buffer
    613           *
    614           * @return  none
    615           ***************************************************************************************************/

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    616          void MT_AfDataConfirm(afDataConfirm_t *pMsg)
   \                     MT_AfDataConfirm:
    617          {
   \   000000   C082         PUSH    DPL
   \   000002   C083         PUSH    DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 3
   \   000004   74FD         MOV     A,#-0x3
   \   000006   12....       LCALL   ?ALLOC_XSTACK8
    618            uint8 retArray[3];
    619          
    620            retArray[0] = pMsg->hdr.status;
   \   000009   12....       LCALL   ?Subroutine8 & 0xFFFF
    621            retArray[1] = pMsg->endpoint;
   \                     ??CrossCallReturnLabel_2:
   \   00000C   C0E0         PUSH    A
   \   00000E   7401         MOV     A,#0x1
   \   000010   12....       LCALL   ?XSTACK_DISP0_8
   \   000013   D0E0         POP     A
   \   000015   12....       LCALL   ?Subroutine35 & 0xFFFF
    622            retArray[2] = pMsg->transID;
   \                     ??CrossCallReturnLabel_57:
   \   000018   C0E0         PUSH    A
   \   00001A   7402         MOV     A,#0x2
   \   00001C   12....       LCALL   ?XSTACK_DISP0_8
   \   00001F   D0E0         POP     A
   \   000021   12....       LCALL   ?Subroutine29 & 0xFFFF
    623          
    624            /* Build and send back the response */
    625            MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_AREQ | (uint8)MT_RPC_SYS_AF), MT_AF_DATA_CONFIRM, 3, retArray);
   \                     ??CrossCallReturnLabel_35:
   \   000024   7B03         MOV     R3,#0x3
   \   000026   7A80         MOV     R2,#-0x80
   \   000028   7944         MOV     R1,#0x44
   \   00002A   12....       LCALL   ??MT_BuildAndSendZToolResponse?relay
    626          }
   \   00002D   7403         MOV     A,#0x3
   \   00002F                REQUIRE ?Subroutine3
   \   00002F                ; // Fall through to label ?Subroutine3

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine3:
   \   000000   12....       LCALL   ?DEALLOC_XSTACK8
   \   000003   D083         POP     DPH
   \   000005   D082         POP     DPL
   \   000007   02....       LJMP    ?BRET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine35:
   \   000000   12....       LCALL   ?Subroutine49 & 0xFFFF
   \                     ??CrossCallReturnLabel_82:
   \   000003   E0           MOVX    A,@DPTR
   \   000004   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine49:
   \   000000   12....       LCALL   ?Subroutine52 & 0xFFFF
   \                     ??CrossCallReturnLabel_87:
   \   000003   A3           INC     DPTR
   \   000004   A3           INC     DPTR
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine29:
   \   000000   12....       LCALL   ?Subroutine46 & 0xFFFF
   \                     ??CrossCallReturnLabel_79:
   \   000003   AC82         MOV     R4,DPL
   \   000005   AD83         MOV     R5,DPH
   \   000007   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine46:
   \   000000   F0           MOVX    @DPTR,A
   \   000001                ; Setup parameters for call to function afAPSF_ConfigSet
   \   000001                ; Setup parameters for call to function MT_BuildAndSendZToolResponse
   \   000001                ; Setup parameters for call to function MT_BuildAndSendZToolResponse
   \   000001                ; Setup parameters for call to function MT_BuildAndSendZToolResponse
   \   000001   85..82       MOV     DPL,?XSP + 0
   \   000004   85..83       MOV     DPH,?XSP + 1
   \   000007   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine8:
   \   000000   8A82         MOV     DPL,R2
   \   000002   8B83         MOV     DPH,R3
   \   000004   A3           INC     DPTR
   \   000005   E0           MOVX    A,@DPTR
   \   000006   85..82       MOV     DPL,?XSP + 0
   \   000009   85..83       MOV     DPH,?XSP + 1
   \   00000C   12....       LCALL   ?Subroutine48 & 0xFFFF
   \                     ??CrossCallReturnLabel_81:
   \   00000F   22           RET
    627          
    628          /***************************************************************************************************
    629           * @fn      MT_AfReflectError
    630           *
    631           * @brief   Process
    632           *
    633           * @param   pBuf - pointer to the received buffer
    634           *
    635           * @return  none
    636           ***************************************************************************************************/

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    637          void MT_AfReflectError(afReflectError_t *pMsg)
   \                     MT_AfReflectError:
    638          {
   \   000000   C082         PUSH    DPL
   \   000002   C083         PUSH    DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 6
   \   000004   74FA         MOV     A,#-0x6
   \   000006   12....       LCALL   ?ALLOC_XSTACK8
    639            uint8 retArray[6];
    640          
    641            retArray[0] = pMsg->hdr.status;
   \   000009   12....       LCALL   ?Subroutine8 & 0xFFFF
    642            retArray[1] = pMsg->endpoint;
   \                     ??CrossCallReturnLabel_3:
   \   00000C   C0E0         PUSH    A
   \   00000E   7401         MOV     A,#0x1
   \   000010   12....       LCALL   ?XSTACK_DISP0_8
   \   000013   D0E0         POP     A
   \   000015   12....       LCALL   ?Subroutine35 & 0xFFFF
    643            retArray[2] = pMsg->transID;
   \                     ??CrossCallReturnLabel_58:
   \   000018   C0E0         PUSH    A
   \   00001A   7402         MOV     A,#0x2
   \   00001C   12....       LCALL   ?XSTACK_DISP0_8
   \   00001F   D0E0         POP     A
   \   000021   12....       LCALL   ?Subroutine34 & 0xFFFF
    644            retArray[3] = pMsg->dstAddrMode;
   \                     ??CrossCallReturnLabel_56:
   \   000024   E0           MOVX    A,@DPTR
   \   000025   C0E0         PUSH    A
   \   000027   7403         MOV     A,#0x3
   \   000029   12....       LCALL   ?XSTACK_DISP0_8
   \   00002C   D0E0         POP     A
   \   00002E   F0           MOVX    @DPTR,A
    645            retArray[4] = LO_UINT16( pMsg->dstAddr );
   \   00002F   EA           MOV     A,R2
   \   000030   2405         ADD     A,#0x5
   \   000032   F8           MOV     R0,A
   \   000033   EB           MOV     A,R3
   \   000034   12....       LCALL   ?Subroutine27 & 0xFFFF
   \                     ??CrossCallReturnLabel_33:
   \   000037   C0E0         PUSH    A
   \   000039   7404         MOV     A,#0x4
   \   00003B   12....       LCALL   ?XSTACK_DISP0_8
   \   00003E   D0E0         POP     A
   \   000040   F0           MOVX    @DPTR,A
    646            retArray[5] = HI_UINT16( pMsg->dstAddr );
   \   000041   8882         MOV     DPL,R0
   \   000043   8983         MOV     DPH,R1
   \   000045   A3           INC     DPTR
   \   000046   E0           MOVX    A,@DPTR
   \   000047   C0E0         PUSH    A
   \   000049   7405         MOV     A,#0x5
   \   00004B   12....       LCALL   ?XSTACK_DISP0_8
   \   00004E   D0E0         POP     A
   \   000050   12....       LCALL   ?Subroutine29 & 0xFFFF
    647          
    648            /* Build and send back the response */
    649            MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_AREQ | (uint8)MT_RPC_SYS_AF), MT_AF_REFLECT_ERROR, 6, retArray);
   \                     ??CrossCallReturnLabel_36:
   \   000053   7B06         MOV     R3,#0x6
   \   000055   7A83         MOV     R2,#-0x7d
   \   000057   7944         MOV     R1,#0x44
   \   000059   12....       LCALL   ??MT_BuildAndSendZToolResponse?relay
    650          }
   \   00005C   7406         MOV     A,#0x6
   \   00005E   80..         SJMP    ?Subroutine3

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine34:
   \   000000   12....       LCALL   ?Subroutine49 & 0xFFFF
   \                     ??CrossCallReturnLabel_83:
   \   000003   A3           INC     DPTR
   \   000004   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine27:
   \   000000   12....       LCALL   ?Subroutine40 & 0xFFFF
   \                     ??CrossCallReturnLabel_68:
   \   000003   E0           MOVX    A,@DPTR
   \   000004   22           RET
    651          
    652          /***************************************************************************************************
    653           * @fn          MT_AfIncomingMsg
    654           *
    655           * @brief       Process the callback subscription for AF Incoming data.
    656           *
    657           * @param       pkt - Incoming AF data.
    658           *
    659           * @return      none
    660           ***************************************************************************************************/

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    661          void MT_AfIncomingMsg(afIncomingMSGPacket_t *pMsg)
   \                     MT_AfIncomingMsg:
    662          {
   \   000000   74E8         MOV     A,#-0x18
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 24
   \   000005                ; Auto size: 3
   \   000005   74FD         MOV     A,#-0x3
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   8A..         MOV     ?V0 + 8,R2
   \   00000C   8B..         MOV     ?V0 + 9,R3
    663            #define MT_AF_INC_MSG_LEN  17
    664            #define MT_AF_INC_MSG_EXT  10
    665          
    666            uint16 dataLen = pMsg->cmd.DataLength;  // Length of the data section in the response packet.
   \   00000E   EA           MOV     A,R2
   \   00000F   2420         ADD     A,#0x20
   \   000011   F582         MOV     DPL,A
   \   000013   EB           MOV     A,R3
   \   000014   12....       LCALL   ??Subroutine56_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_96:
   \   000017   E0           MOVX    A,@DPTR
   \   000018   FE           MOV     R6,A
   \   000019   A3           INC     DPTR
   \   00001A   E0           MOVX    A,@DPTR
   \   00001B   FF           MOV     R7,A
    667            uint16 respLen = MT_AF_INC_MSG_LEN + dataLen;
   \   00001C   EE           MOV     A,R6
   \   00001D   2411         ADD     A,#0x11
   \   00001F   F5..         MOV     ?V0 + 0,A
   \   000021   EF           MOV     A,R7
   \   000022   3400         ADDC    A,#0x0
   \   000024   F5..         MOV     ?V0 + 1,A
    668            uint8 cmd = MT_AF_INCOMING_MSG;
   \   000026   85..82       MOV     DPL,?XSP + 0
   \   000029   85..83       MOV     DPH,?XSP + 1
   \   00002C   7481         MOV     A,#-0x7f
   \   00002E   F0           MOVX    @DPTR,A
    669            uint8 *pRsp, *pTmp;
    670            mtAfInMsgList_t *pItem = NULL;
   \   00002F   75..00       MOV     ?V0 + 10,#0x0
   \   000032   75..00       MOV     ?V0 + 11,#0x0
    671          
    672          #if defined INTER_PAN
    673            if (StubAPS_InterPan(pMsg->srcAddr.panId, pMsg->srcAddr.endPoint))
   \   000035   EA           MOV     A,R2
   \   000036   240E         ADD     A,#0xe
   \   000038   F5..         MOV     ?V0 + 4,A
   \   00003A   EB           MOV     A,R3
   \   00003B   3400         ADDC    A,#0x0
   \   00003D   F5..         MOV     ?V0 + 5,A
   \   00003F   EA           MOV     A,R2
   \   000040   2410         ADD     A,#0x10
   \   000042   F5..         MOV     ?V0 + 14,A
   \   000044   EB           MOV     A,R3
   \   000045   3400         ADDC    A,#0x0
   \   000047   F5..         MOV     ?V0 + 15,A
   \   000049   EA           MOV     A,R2
   \   00004A   240F         ADD     A,#0xf
   \   00004C   F5..         MOV     ?V0 + 12,A
   \   00004E   EB           MOV     A,R3
   \   00004F   12....       LCALL   ?Subroutine26 & 0xFFFF
   \                     ??CrossCallReturnLabel_31:
   \   000052   E0           MOVX    A,@DPTR
   \   000053   F9           MOV     R1,A
   \   000054   85..82       MOV     DPL,?V0 + 14
   \   000057   85..83       MOV     DPH,?V0 + 15
   \   00005A   12....       LCALL   ??Subroutine64_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_145:
   \   00005D   12....       LCALL   ??StubAPS_InterPan?relay
   \   000060   E9           MOV     A,R1
   \   000061   7016         JNZ     ??MT_AfIncomingMsg_0
    674            {
    675              cmd = MT_AF_INCOMING_MSG_EXT;
    676            }
    677            else
    678          #endif
    679            if ((pMsg->srcAddr.addrMode == afAddr64Bit) ||
    680                (respLen > (uint16)(MT_RPC_DATA_MAX - MT_AF_INC_MSG_EXT)))
   \   000063   85..82       MOV     DPL,?V0 + 4
   \   000066   85..83       MOV     DPH,?V0 + 5
   \   000069   E0           MOVX    A,@DPTR
   \   00006A   6403         XRL     A,#0x3
   \   00006C   600B         JZ      ??MT_AfIncomingMsg_0
   \   00006E   C3           CLR     C
   \   00006F   E5..         MOV     A,?V0 + 0
   \   000071   94F1         SUBB    A,#-0xf
   \   000073   E5..         MOV     A,?V0 + 1
   \   000075   9400         SUBB    A,#0x0
   \   000077   4015         JC      ??MT_AfIncomingMsg_1
    681            {
    682              cmd = MT_AF_INCOMING_MSG_EXT;
   \                     ??MT_AfIncomingMsg_0:
   \   000079   85..82       MOV     DPL,?XSP + 0
   \   00007C   85..83       MOV     DPH,?XSP + 1
   \   00007F   7482         MOV     A,#-0x7e
   \   000081   F0           MOVX    @DPTR,A
    683            }
    684          
    685            if (cmd == MT_AF_INCOMING_MSG_EXT)
    686            {
    687              respLen += MT_AF_INC_MSG_EXT;
   \   000082   E5..         MOV     A,?V0 + 0
   \   000084   240A         ADD     A,#0xa
   \   000086   F5..         MOV     ?V0 + 0,A
   \   000088   E5..         MOV     A,?V0 + 1
   \   00008A   3400         ADDC    A,#0x0
   \   00008C   F5..         MOV     ?V0 + 1,A
    688            }
    689          
    690            if (respLen > (uint16)MT_RPC_DATA_MAX)
   \                     ??MT_AfIncomingMsg_1:
   \   00008E   C3           CLR     C
   \   00008F   E5..         MOV     A,?V0 + 0
   \   000091   94FB         SUBB    A,#-0x5
   \   000093   E5..         MOV     A,?V0 + 1
   \   000095   9400         SUBB    A,#0x0
   \   000097   402B         JC      ??MT_AfIncomingMsg_2
    691            {
    692              if ((pItem = (mtAfInMsgList_t *)osal_mem_alloc(sizeof(mtAfInMsgList_t) + dataLen)) == NULL)
   \   000099                ; Setup parameters for call to function osal_mem_alloc
   \   000099   EE           MOV     A,R6
   \   00009A   2409         ADD     A,#0x9
   \   00009C   FA           MOV     R2,A
   \   00009D   EF           MOV     A,R7
   \   00009E   3400         ADDC    A,#0x0
   \   0000A0   FB           MOV     R3,A
   \   0000A1   12....       LCALL   ??osal_mem_alloc?relay
   \   0000A4   8A..         MOV     ?V0 + 10,R2
   \   0000A6   8B..         MOV     ?V0 + 11,R3
   \   0000A8   EA           MOV     A,R2
   \   0000A9   45..         ORL     A,?V0 + 11
   \   0000AB   7003         JNZ     $+5
   \   0000AD   02....       LJMP    ??MT_AfIncomingMsg_3 & 0xFFFF
    693              {
    694                return;  // If cannot hold a huge message, cannot give indication at all.
    695              }
    696          
    697              pItem->data = (uint8 *)(pItem+1);
   \   0000B0   EA           MOV     A,R2
   \   0000B1   2409         ADD     A,#0x9
   \   0000B3   12....       LCALL   ?Subroutine25 & 0xFFFF
   \                     ??CrossCallReturnLabel_30:
   \   0000B6   12....       LCALL   ?Subroutine32 & 0xFFFF
    698              respLen -= dataLen;  // Zero data bytes are sent with an over-sized incoming indication.
   \                     ??CrossCallReturnLabel_50:
   \   0000B9   C3           CLR     C
   \   0000BA   E5..         MOV     A,?V0 + 0
   \   0000BC   9E           SUBB    A,R6
   \   0000BD   F5..         MOV     ?V0 + 0,A
   \   0000BF   E5..         MOV     A,?V0 + 1
   \   0000C1   9F           SUBB    A,R7
   \   0000C2   F5..         MOV     ?V0 + 1,A
    699            }
    700          
    701            // Attempt to allocate memory for the response packet.
    702            if ((pRsp = osal_mem_alloc(respLen)) == NULL)
   \                     ??MT_AfIncomingMsg_2:
   \   0000C4                ; Setup parameters for call to function osal_mem_alloc
   \   0000C4   AA..         MOV     R2,?V0 + 0
   \   0000C6   AB..         MOV     R3,?V0 + 1
   \   0000C8   12....       LCALL   ??osal_mem_alloc?relay
   \   0000CB   7401         MOV     A,#0x1
   \   0000CD   12....       LCALL   ?XSTACK_DISP0_8
   \   0000D0   EA           MOV     A,R2
   \   0000D1   F0           MOVX    @DPTR,A
   \   0000D2   A3           INC     DPTR
   \   0000D3   EB           MOV     A,R3
   \   0000D4   F0           MOVX    @DPTR,A
   \   0000D5   7401         MOV     A,#0x1
   \   0000D7   12....       LCALL   ?XSTACK_DISP0_8
   \   0000DA   12....       LCALL   ??Subroutine57_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_108:
   \   0000DD   7010         JNZ     ??MT_AfIncomingMsg_4
    703            {
    704              if (pItem != NULL)
   \   0000DF   E5..         MOV     A,?V0 + 10
   \   0000E1   45..         ORL     A,?V0 + 11
   \   0000E3   7003         JNZ     $+5
   \   0000E5   02....       LJMP    ??MT_AfIncomingMsg_3 & 0xFFFF
    705              {
    706                (void)osal_mem_free(pItem);
   \   0000E8                ; Setup parameters for call to function osal_mem_free
   \   0000E8   AA..         MOV     R2,?V0 + 10
   \   0000EA   AB..         MOV     R3,?V0 + 11
   \   0000EC   02....       LJMP    ??CrossCallReturnLabel_147 & 0xFFFF
    707              }
    708              return;
    709            }
    710            pTmp = pRsp;
   \                     ??MT_AfIncomingMsg_4:
   \   0000EF   7401         MOV     A,#0x1
   \   0000F1   12....       LCALL   ?XSTACK_DISP0_8
   \   0000F4   E0           MOVX    A,@DPTR
   \   0000F5   F5..         MOV     ?V0 + 2,A
    711          
    712            /* Group ID */
    713            *pTmp++ = LO_UINT16(pMsg->groupId);
   \   0000F7   E5..         MOV     A,?V0 + 8
   \   0000F9   2402         ADD     A,#0x2
   \   0000FB   F8           MOV     R0,A
   \   0000FC   E5..         MOV     A,?V0 + 9
   \   0000FE   12....       LCALL   ?Subroutine27 & 0xFFFF
   \                     ??CrossCallReturnLabel_34:
   \   000101   85..82       MOV     DPL,?V0 + 2
   \   000104   8B83         MOV     DPH,R3
   \   000106   12....       LCALL   ?Subroutine30 & 0xFFFF
    714            *pTmp++ = HI_UINT16(pMsg->groupId);
   \                     ??CrossCallReturnLabel_38:
   \   000109   8882         MOV     DPL,R0
   \   00010B   8983         MOV     DPH,R1
   \   00010D   A3           INC     DPTR
   \   00010E   12....       LCALL   ??Subroutine62_0 & 0xFFFF
    715          
    716            /* Cluster ID */
    717            *pTmp++ = LO_UINT16(pMsg->clusterId);
   \                     ??CrossCallReturnLabel_132:
   \   000111   2404         ADD     A,#0x4
   \   000113   F8           MOV     R0,A
   \   000114   E5..         MOV     A,?V0 + 9
   \   000116   12....       LCALL   ?Subroutine40 & 0xFFFF
   \                     ??CrossCallReturnLabel_67:
   \   000119   12....       LCALL   ?Subroutine9 & 0xFFFF
    718            *pTmp++ = HI_UINT16(pMsg->clusterId);
   \                     ??CrossCallReturnLabel_4:
   \   00011C   8882         MOV     DPL,R0
   \   00011E   8983         MOV     DPH,R1
   \   000120   A3           INC     DPTR
   \   000121   12....       LCALL   ?Subroutine9 & 0xFFFF
    719          
    720            if (cmd == MT_AF_INCOMING_MSG_EXT)
   \                     ??CrossCallReturnLabel_5:
   \   000124   A3           INC     DPTR
   \   000125   A882         MOV     R0,DPL
   \   000127   A983         MOV     R1,DPH
   \   000129   E5..         MOV     A,?V0 + 8
   \   00012B   2406         ADD     A,#0x6
   \   00012D   FA           MOV     R2,A
   \   00012E   E5..         MOV     A,?V0 + 9
   \   000130   3400         ADDC    A,#0x0
   \   000132   FB           MOV     R3,A
   \   000133   85..82       MOV     DPL,?XSP + 0
   \   000136   85..83       MOV     DPH,?XSP + 1
   \   000139   E0           MOVX    A,@DPTR
   \   00013A   6482         XRL     A,#0x82
   \   00013C   7064         JNZ     ??MT_AfIncomingMsg_5
    721            {
    722              *pTmp++ = pMsg->srcAddr.addrMode;
   \   00013E   85..82       MOV     DPL,?V0 + 4
   \   000141   85..83       MOV     DPH,?V0 + 5
   \   000144   12....       LCALL   ?Subroutine16 & 0xFFFF
   \                     ??CrossCallReturnLabel_16:
   \   000147   88..         MOV     ?V0 + 2,R0
   \   000149   89..         MOV     ?V0 + 3,R1
    723          
    724              if (pMsg->srcAddr.addrMode == afAddr64Bit)
   \   00014B   85..82       MOV     DPL,?V0 + 4
   \   00014E   85..83       MOV     DPH,?V0 + 5
   \   000151   E0           MOVX    A,@DPTR
   \   000152   6403         XRL     A,#0x3
   \   000154   701E         JNZ     ??MT_AfIncomingMsg_6
    725              {
    726                (void)osal_memcpy(pTmp, pMsg->srcAddr.addr.extAddr, Z_EXTADDR_LEN);
   \   000156                ; Setup parameters for call to function osal_memcpy
   \   000156   8A..         MOV     ?V0 + 4,R2
   \   000158   8B..         MOV     ?V0 + 5,R3
   \   00015A   75..00       MOV     ?V0 + 6,#0x0
   \   00015D   78..         MOV     R0,#?V0 + 4
   \   00015F   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   000162   7C08         MOV     R4,#0x8
   \   000164   7D00         MOV     R5,#0x0
   \   000166   AA..         MOV     R2,?V0 + 2
   \   000168   AB..         MOV     R3,?V0 + 3
   \   00016A   12....       LCALL   ??osal_memcpy?relay
   \   00016D   7403         MOV     A,#0x3
   \   00016F   12....       LCALL   ?DEALLOC_XSTACK8
   \   000172   8013         SJMP    ??MT_AfIncomingMsg_7
    727              }
    728              else
    729              {
    730                pTmp[0] = LO_UINT16(pMsg->srcAddr.addr.shortAddr);
   \                     ??MT_AfIncomingMsg_6:
   \   000174   8A82         MOV     DPL,R2
   \   000176   8B83         MOV     DPH,R3
   \   000178   E0           MOVX    A,@DPTR
   \   000179   8882         MOV     DPL,R0
   \   00017B   8983         MOV     DPH,R1
   \   00017D   12....       LCALL   ?Subroutine52 & 0xFFFF
    731                pTmp[1] = HI_UINT16(pMsg->srcAddr.addr.shortAddr);
    732              }
   \                     ??CrossCallReturnLabel_89:
   \   000180   E0           MOVX    A,@DPTR
   \   000181   8882         MOV     DPL,R0
   \   000183   8983         MOV     DPH,R1
   \   000185   A3           INC     DPTR
   \   000186   F0           MOVX    @DPTR,A
    733              pTmp += Z_EXTADDR_LEN;
   \                     ??MT_AfIncomingMsg_7:
   \   000187   E5..         MOV     A,?V0 + 2
   \   000189   2408         ADD     A,#0x8
   \   00018B   F5..         MOV     ?V0 + 2,A
   \   00018D   E5..         MOV     A,?V0 + 3
   \   00018F   3400         ADDC    A,#0x0
   \   000191   F5..         MOV     ?V0 + 3,A
    734          
    735              *pTmp++ = pMsg->srcAddr.endPoint;
   \   000193   85..82       MOV     DPL,?V0 + 12
   \   000196   85..83       MOV     DPH,?V0 + 13
   \   000199   12....       LCALL   ?Subroutine6 & 0xFFFF
    736          #if defined INTER_PAN
    737              *pTmp++ = LO_UINT16(pMsg->srcAddr.panId);
    738              *pTmp++ = HI_UINT16(pMsg->srcAddr.panId);
    739          #else
    740              *pTmp++ = 0;
    741              *pTmp++ = 0;
    742          #endif
    743            }
   \                     ??CrossCallReturnLabel_0:
   \   00019C   12....       LCALL   ?Subroutine6 & 0xFFFF
   \                     ??CrossCallReturnLabel_1:
   \   00019F   A3           INC     DPTR
   \   0001A0   801A         SJMP    ??MT_AfIncomingMsg_8
    744            else
    745            {
    746              /* Source Address */
    747              *pTmp++ = LO_UINT16(pMsg->srcAddr.addr.shortAddr);
   \                     ??MT_AfIncomingMsg_5:
   \   0001A2   8A82         MOV     DPL,R2
   \   0001A4   8B83         MOV     DPH,R3
   \   0001A6   12....       LCALL   ?Subroutine16 & 0xFFFF
    748              *pTmp++ = HI_UINT16(pMsg->srcAddr.addr.shortAddr);
   \                     ??CrossCallReturnLabel_17:
   \   0001A9   8A82         MOV     DPL,R2
   \   0001AB   8B83         MOV     DPH,R3
   \   0001AD   A3           INC     DPTR
   \   0001AE   E0           MOVX    A,@DPTR
   \   0001AF   8882         MOV     DPL,R0
   \   0001B1   8983         MOV     DPH,R1
   \   0001B3   12....       LCALL   ?Subroutine30 & 0xFFFF
    749          
    750              /* Source EP */
    751              *pTmp++ = pMsg->srcAddr.endPoint;
   \                     ??CrossCallReturnLabel_39:
   \   0001B6   85..82       MOV     DPL,?V0 + 12
   \   0001B9   85..83       MOV     DPH,?V0 + 13
    752            }
   \                     ??MT_AfIncomingMsg_8:
   \   0001BC   12....       LCALL   ??Subroutine62_0 & 0xFFFF
    753          
    754            /* Destination EP */
    755            *pTmp++ = pMsg->endPoint;
   \                     ??CrossCallReturnLabel_133:
   \   0001BF   2414         ADD     A,#0x14
   \   0001C1   12....       LCALL   ?Subroutine4 & 0xFFFF
    756          
    757            /* WasBroadCast */
    758            *pTmp++ = pMsg->wasBroadcast;
   \                     ??CrossCallReturnLabel_128:
   \   0001C4   2415         ADD     A,#0x15
   \   0001C6   12....       LCALL   ?Subroutine4 & 0xFFFF
    759          
    760            /* LinkQuality */
    761            *pTmp++ = pMsg->LinkQuality;
   \                     ??CrossCallReturnLabel_129:
   \   0001C9   2416         ADD     A,#0x16
   \   0001CB   12....       LCALL   ?Subroutine4 & 0xFFFF
    762          
    763            /* SecurityUse */
    764            *pTmp++ = pMsg->SecurityUse;
   \                     ??CrossCallReturnLabel_130:
   \   0001CE   2419         ADD     A,#0x19
   \   0001D0   12....       LCALL   ?Subroutine4 & 0xFFFF
    765          
    766            /* Timestamp */
    767            *pTmp++ = BREAK_UINT32(pMsg->timestamp, 0);
   \                     ??CrossCallReturnLabel_131:
   \   0001D3   241A         ADD     A,#0x1a
   \   0001D5   F5..         MOV     ?V0 + 12,A
   \   0001D7   E5..         MOV     A,?V0 + 9
   \   0001D9   12....       LCALL   ?Subroutine26 & 0xFFFF
   \                     ??CrossCallReturnLabel_32:
   \   0001DC   78..         MOV     R0,#?V0 + 4
   \   0001DE   12....       LCALL   ?L_MOV_X
   \   0001E1   12....       LCALL   ?Subroutine28 & 0xFFFF
    768            *pTmp++ = BREAK_UINT32(pMsg->timestamp, 1);
   \                     ??CrossCallReturnLabel_123:
   \   0001E4   12....       LCALL   ?L_MOV_X
   \   0001E7   E5..         MOV     A,?V0 + 5
   \   0001E9   85..82       MOV     DPL,?V0 + 2
   \   0001EC   85..83       MOV     DPH,?V0 + 3
   \   0001EF   12....       LCALL   ??Subroutine61_0 & 0xFFFF
    769            *pTmp++ = BREAK_UINT32(pMsg->timestamp, 2);
   \                     ??CrossCallReturnLabel_125:
   \   0001F2   12....       LCALL   ?L_MOV_X
   \   0001F5   7410         MOV     A,#0x10
   \   0001F7   78..         MOV     R0,#?V0 + 4
   \   0001F9   12....       LCALL   ?UL_SHR
   \   0001FC   12....       LCALL   ?Subroutine28 & 0xFFFF
    770            *pTmp++ = BREAK_UINT32(pMsg->timestamp, 3);
   \                     ??CrossCallReturnLabel_124:
   \   0001FF   12....       LCALL   ?L_MOV_X
   \   000202   7418         MOV     A,#0x18
   \   000204   78..         MOV     R0,#?V0 + 4
   \   000206   12....       LCALL   ?UL_SHR
   \   000209   85..82       MOV     DPL,?V0 + 2
   \   00020C   85..83       MOV     DPH,?V0 + 3
   \   00020F   E5..         MOV     A,?V0 + 4
   \   000211   12....       LCALL   ?Subroutine30 & 0xFFFF
    771          
    772          
    773            /* Data Length */
    774            if (cmd == MT_AF_INCOMING_MSG_EXT)
   \                     ??CrossCallReturnLabel_40:
   \   000214   A3           INC     DPTR
   \   000215   A882         MOV     R0,DPL
   \   000217   A983         MOV     R1,DPH
   \   000219   85..82       MOV     DPL,?XSP + 0
   \   00021C   85..83       MOV     DPH,?XSP + 1
   \   00021F   E0           MOVX    A,@DPTR
   \   000220   6482         XRL     A,#0x82
   \   000222   7012         JNZ     ??MT_AfIncomingMsg_9
    775            {
    776              /* Z-Tool apparently takes the last Byte before the data buffer as the dynamic length and
    777               * ignores the bigger UInt16 length of an EXT incoming message. But no data bytes will be sent
    778               * with a huge message, so it's necessary to work-around and fake-out Z-Tool with a zero here.
    779               */
    780              *pTmp++ = 0;  // TODO - workaround Z-Tool shortcoming; should be: = pMsg->cmd.TransSeqNumber;
   \   000224   85..82       MOV     DPL,?V0 + 2
   \   000227   85..83       MOV     DPH,?V0 + 3
   \   00022A   E4           CLR     A
   \   00022B   F0           MOVX    @DPTR,A
    781              *pTmp++ = LO_UINT16(dataLen);
   \   00022C   EE           MOV     A,R6
   \   00022D   8882         MOV     DPL,R0
   \   00022F   8983         MOV     DPH,R1
   \   000231   F0           MOVX    @DPTR,A
   \   000232   A3           INC     DPTR
    782              *pTmp++ = HI_UINT16(dataLen);
   \   000233   EF           MOV     A,R7
   \   000234   8013         SJMP    ??MT_AfIncomingMsg_10
    783            }
    784            else
    785            {
    786              *pTmp++ = pMsg->cmd.TransSeqNumber;
   \                     ??MT_AfIncomingMsg_9:
   \   000236   E5..         MOV     A,?V0 + 8
   \   000238   241F         ADD     A,#0x1f
   \   00023A   F582         MOV     DPL,A
   \   00023C   E5..         MOV     A,?V0 + 9
   \   00023E   12....       LCALL   ??Subroutine56_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_97:
   \   000241   12....       LCALL   ?Subroutine16 & 0xFFFF
    787              *pTmp++ = dataLen;
   \                     ??CrossCallReturnLabel_18:
   \   000244   EE           MOV     A,R6
   \   000245   8882         MOV     DPL,R0
   \   000247   8983         MOV     DPH,R1
    788            }
   \                     ??MT_AfIncomingMsg_10:
   \   000249   12....       LCALL   ?Subroutine30 & 0xFFFF
    789          
    790            /* Data */
    791            if (pItem != NULL)
   \                     ??CrossCallReturnLabel_41:
   \   00024C   E5..         MOV     A,?V0 + 8
   \   00024E   2422         ADD     A,#0x22
   \   000250   F5..         MOV     ?V0 + 4,A
   \   000252   E5..         MOV     A,?V0 + 9
   \   000254   3400         ADDC    A,#0x0
   \   000256   F5..         MOV     ?V0 + 5,A
   \   000258   E5..         MOV     A,?V0 + 10
   \   00025A   45..         ORL     A,?V0 + 11
   \   00025C   6079         JZ      ??MT_AfIncomingMsg_11
    792            {
    793              // Enqueue the new huge incoming item.
    794              pItem->next = pMtAfInMsgList;
   \   00025E   12....       LCALL   ?Subroutine43 & 0xFFFF
   \                     ??CrossCallReturnLabel_142:
   \   000261   85..82       MOV     DPL,?V0 + 10
   \   000264   85..83       MOV     DPH,?V0 + 11
   \   000267   12....       LCALL   ?Subroutine32 & 0xFFFF
    795              pMtAfInMsgList = pItem;
   \                     ??CrossCallReturnLabel_51:
   \   00026A   90....       MOV     DPTR,#pMtAfInMsgList
   \   00026D   E5..         MOV     A,?V0 + 10
   \   00026F   F0           MOVX    @DPTR,A
   \   000270   A3           INC     DPTR
   \   000271   E5..         MOV     A,?V0 + 11
   \   000273   F0           MOVX    @DPTR,A
    796          
    797              // Setup to time-out the huge incoming item if host does not MT_AF_DATA_RETRIEVE it.
    798              pItem->tick = MT_AF_EXEC_CNT;
   \   000274   85..82       MOV     DPL,?V0 + 10
   \   000277   F583         MOV     DPH,A
   \   000279   A3           INC     DPTR
   \   00027A   A3           INC     DPTR
   \   00027B   A3           INC     DPTR
   \   00027C   A3           INC     DPTR
   \   00027D   A3           INC     DPTR
   \   00027E   A3           INC     DPTR
   \   00027F   A3           INC     DPTR
   \   000280   A3           INC     DPTR
   \   000281   740F         MOV     A,#0xf
   \   000283   F0           MOVX    @DPTR,A
    799              if (ZSuccess != osal_start_timerEx(MT_TaskID, MT_AF_EXEC_EVT, MT_AF_EXEC_DLY))
   \   000284                ; Setup parameters for call to function osal_start_timerEx
   \   000284   90....       MOV     DPTR,#__Constant_3e8
   \   000287   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   00028A   7A08         MOV     R2,#0x8
   \   00028C   7B00         MOV     R3,#0x0
   \   00028E   90....       MOV     DPTR,#MT_TaskID
   \   000291   E0           MOVX    A,@DPTR
   \   000292   F9           MOV     R1,A
   \   000293   12....       LCALL   ??osal_start_timerEx?relay
   \   000296   7404         MOV     A,#0x4
   \   000298   12....       LCALL   ?DEALLOC_XSTACK8
   \   00029B   E9           MOV     A,R1
   \   00029C   600C         JZ      ??MT_AfIncomingMsg_12
    800              {
    801                (void)osal_set_event(MT_TaskID, MT_AF_EXEC_EVT);
   \   00029E                ; Setup parameters for call to function osal_set_event
   \   00029E   7A08         MOV     R2,#0x8
   \   0002A0   7B00         MOV     R3,#0x0
   \   0002A2   90....       MOV     DPTR,#MT_TaskID
   \   0002A5   E0           MOVX    A,@DPTR
   \   0002A6   F9           MOV     R1,A
   \   0002A7   12....       LCALL   ??osal_set_event?relay
    802              }
    803          
    804              pItem->timestamp = pMsg->timestamp;
   \                     ??MT_AfIncomingMsg_12:
   \   0002AA   85..82       MOV     DPL,?V0 + 12
   \   0002AD   85..83       MOV     DPH,?V0 + 13
   \   0002B0   12....       LCALL   ?XLOAD_R2345
   \   0002B3   85..82       MOV     DPL,?V0 + 10
   \   0002B6   85..83       MOV     DPH,?V0 + 11
   \   0002B9   A3           INC     DPTR
   \   0002BA   A3           INC     DPTR
   \   0002BB   A3           INC     DPTR
   \   0002BC   A3           INC     DPTR
   \   0002BD   12....       LCALL   ?XSTORE_R2345
    805              (void)osal_memcpy(pItem->data, pMsg->cmd.Data, dataLen);
   \   0002C0                ; Setup parameters for call to function osal_memcpy
   \   0002C0   12....       LCALL   ?Subroutine19 & 0xFFFF
    806            }
   \                     ??CrossCallReturnLabel_21:
   \   0002C3   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   0002C6   EE           MOV     A,R6
   \   0002C7   FC           MOV     R4,A
   \   0002C8   EF           MOV     A,R7
   \   0002C9   FD           MOV     R5,A
   \   0002CA   85..82       MOV     DPL,?V0 + 10
   \   0002CD   85..83       MOV     DPH,?V0 + 11
   \   0002D0   A3           INC     DPTR
   \   0002D1   A3           INC     DPTR
   \   0002D2   12....       LCALL   ??Subroutine64_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_146:
   \   0002D5   800E         SJMP    ??MT_AfIncomingMsg_13
    807            else
    808            {
    809              (void)osal_memcpy(pTmp, pMsg->cmd.Data, dataLen);
   \                     ??MT_AfIncomingMsg_11:
   \   0002D7                ; Setup parameters for call to function osal_memcpy
   \   0002D7   12....       LCALL   ?Subroutine19 & 0xFFFF
    810            }
   \                     ??CrossCallReturnLabel_22:
   \   0002DA   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   0002DD   EE           MOV     A,R6
   \   0002DE   FC           MOV     R4,A
   \   0002DF   EF           MOV     A,R7
   \   0002E0   FD           MOV     R5,A
   \   0002E1   AA..         MOV     R2,?V0 + 2
   \   0002E3   AB..         MOV     R3,?V0 + 3
   \                     ??MT_AfIncomingMsg_13:
   \   0002E5   12....       LCALL   ??osal_memcpy?relay
   \   0002E8   7403         MOV     A,#0x3
   \   0002EA   12....       LCALL   ?DEALLOC_XSTACK8
    811          
    812            /* Build and send back the response */
    813            MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_AREQ|(uint8)MT_RPC_SYS_AF), cmd, respLen, pRsp);
   \   0002ED                ; Setup parameters for call to function MT_BuildAndSendZToolResponse
   \   0002ED   7401         MOV     A,#0x1
   \   0002EF   12....       LCALL   ?XSTACK_DISP0_8
   \   0002F2   E0           MOVX    A,@DPTR
   \   0002F3   FC           MOV     R4,A
   \   0002F4   A3           INC     DPTR
   \   0002F5   E0           MOVX    A,@DPTR
   \   0002F6   FD           MOV     R5,A
   \   0002F7   AB..         MOV     R3,?V0 + 0
   \   0002F9   85..82       MOV     DPL,?XSP + 0
   \   0002FC   85..83       MOV     DPH,?XSP + 1
   \   0002FF   E0           MOVX    A,@DPTR
   \   000300   FA           MOV     R2,A
   \   000301   7944         MOV     R1,#0x44
   \   000303   12....       LCALL   ??MT_BuildAndSendZToolResponse?relay
    814          
    815            (void)osal_mem_free(pRsp);
   \   000306                ; Setup parameters for call to function osal_mem_free
   \   000306   7401         MOV     A,#0x1
   \   000308   12....       LCALL   ?XSTACK_DISP0_8
   \   00030B   12....       LCALL   ??Subroutine64_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_147:
   \   00030E   12....       LCALL   ??osal_mem_free?relay
    816          }
   \                     ??MT_AfIncomingMsg_3:
   \   000311   7403         MOV     A,#0x3
   \   000313   12....       LCALL   ?DEALLOC_XSTACK8
   \   000316   7F10         MOV     R7,#0x10
   \   000318   02....       LJMP    ?BANKED_LEAVE_XDATA

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine30:
   \   000000   12....       LCALL   ?Subroutine47 & 0xFFFF
   \                     ??CrossCallReturnLabel_126:
   \   000003   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine47:
   \   000000   F0           MOVX    @DPTR,A
   \   000001   A3           INC     DPTR
   \   000002   8582..       MOV     ?V0 + 2,DPL
   \   000005   8583..       MOV     ?V0 + 3,DPH
   \   000008   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine28:
   \   000000   85..82       MOV     DPL,?V0 + 2
   \   000003   85..83       MOV     DPH,?V0 + 3
   \   000006   E5..         MOV     A,?V0 + 4
   \   000008                REQUIRE ??Subroutine61_0
   \   000008                ; // Fall through to label ??Subroutine61_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine61_0:
   \   000000   12....       LCALL   ?Subroutine47 & 0xFFFF
   \                     ??CrossCallReturnLabel_127:
   \   000003   85..82       MOV     DPL,?V0 + 12
   \   000006   85..83       MOV     DPH,?V0 + 13
   \   000009   78..         MOV     R0,#?V0 + 4
   \   00000B   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine26:
   \   000000   3400         ADDC    A,#0x0
   \   000002   F5..         MOV     ?V0 + 13,A
   \   000004                ; Setup parameters for call to function StubAPS_InterPan
   \   000004   85..82       MOV     DPL,?V0 + 12
   \   000007   F583         MOV     DPH,A
   \   000009   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine19:
   \   000000   85..82       MOV     DPL,?V0 + 4
   \   000003   85..83       MOV     DPH,?V0 + 5
   \   000006   12....       LCALL   ?Subroutine44 & 0xFFFF
   \                     ??CrossCallReturnLabel_71:
   \   000009   78..         MOV     R0,#?V0 + 4
   \   00000B   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine16:
   \   000000   12....       LCALL   ?Subroutine51 & 0xFFFF
   \                     ??CrossCallReturnLabel_137:
   \   000003   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine51:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   85..82       MOV     DPL,?V0 + 2
   \   000004   85..83       MOV     DPH,?V0 + 3
   \   000007   F0           MOVX    @DPTR,A
   \   000008   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine9:
   \   000000   12....       LCALL   ?Subroutine42 & 0xFFFF
   \                     ??CrossCallReturnLabel_135:
   \   000003   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine42:
   \   000000   12....       LCALL   ?Subroutine51 & 0xFFFF
   \                     ??CrossCallReturnLabel_138:
   \   000003   A3           INC     DPTR
   \   000004   8582..       MOV     ?V0 + 2,DPL
   \   000007   8583..       MOV     ?V0 + 3,DPH
   \   00000A   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine6:
   \   000000   12....       LCALL   ?Subroutine42 & 0xFFFF
   \                     ??CrossCallReturnLabel_134:
   \   000003   85..82       MOV     DPL,?V0 + 14
   \   000006   85..83       MOV     DPH,?V0 + 15
   \   000009   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine4:
   \   000000   F582         MOV     DPL,A
   \   000002   E5..         MOV     A,?V0 + 9
   \   000004   12....       LCALL   ??Subroutine56_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_98:
   \   000007                REQUIRE ??Subroutine62_0
   \   000007                ; // Fall through to label ??Subroutine62_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine62_0:
   \   000000   12....       LCALL   ?Subroutine42 & 0xFFFF
   \                     ??CrossCallReturnLabel_136:
   \   000003   E5..         MOV     A,?V0 + 8
   \   000005   22           RET
    817          
    818          /**************************************************************************************************
    819           * @fn          MT_AfDataRetrieve
    820           *
    821           * @brief   Process AF Data Retrieve command to incrementally read out a very large
    822           *          incoming AF message.
    823           *
    824           * input parameters
    825           *
    826           * @param pBuf - pointer to the received buffer
    827           *
    828           * output parameters
    829           *
    830           * @param rtrn - AF-Status of the operation.
    831           *
    832           * @return      None.
    833           **************************************************************************************************
    834           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    835          void MT_AfDataRetrieve(uint8 *pBuf)
   \                     MT_AfDataRetrieve:
    836          {
   \   000000   74EC         MOV     A,#-0x14
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 20
   \   000005                ; Auto size: 0
   \   000005   EA           MOV     A,R2
   \   000006   FE           MOV     R6,A
   \   000007   EB           MOV     A,R3
   \   000008   FF           MOV     R7,A
    837            #define MT_AF_RTV_HDR_SZ  2
    838          
    839            uint32 timestamp;
    840            mtAfInMsgList_t *pPrev, *pItem = pMtAfInMsgList;
   \   000009   90....       MOV     DPTR,#pMtAfInMsgList
   \   00000C   E0           MOVX    A,@DPTR
   \   00000D   F5..         MOV     ?V0 + 6,A
   \   00000F   A3           INC     DPTR
   \   000010   E0           MOVX    A,@DPTR
   \   000011   F5..         MOV     ?V0 + 7,A
    841            uint8 rtrn = afStatus_FAILED;
   \   000013   7A01         MOV     R2,#0x1
    842            uint8 len = 0;
   \   000015   75..00       MOV     ?V0 + 4,#0x0
    843          
    844            pBuf += MT_RPC_FRAME_HDR_SZ;
   \   000018   EE           MOV     A,R6
   \   000019   2403         ADD     A,#0x3
   \   00001B   12....       LCALL   ??Subroutine58_0 & 0xFFFF
    845            timestamp = BUILD_UINT32(pBuf[0], pBuf[1], pBuf[2], pBuf[3]);
   \                     ??CrossCallReturnLabel_116:
   \   00001E   F5..         MOV     ?V0 + 0,A
   \   000020   E4           CLR     A
   \   000021   F5..         MOV     ?V0 + 1,A
   \   000023   F5..         MOV     ?V0 + 2,A
   \   000025   F5..         MOV     ?V0 + 3,A
   \   000027   A3           INC     DPTR
   \   000028   E0           MOVX    A,@DPTR
   \   000029   F5..         MOV     ?V0 + 8,A
   \   00002B   E4           CLR     A
   \   00002C   F5..         MOV     ?V0 + 9,A
   \   00002E   F5..         MOV     ?V0 + 10,A
   \   000030   F5..         MOV     ?V0 + 11,A
   \   000032   7408         MOV     A,#0x8
   \   000034   78..         MOV     R0,#?V0 + 8
   \   000036   12....       LCALL   ?L_SHL
   \   000039   78..         MOV     R0,#?V0 + 0
   \   00003B   79..         MOV     R1,#?V0 + 8
   \   00003D   12....       LCALL   ?L_ADD
   \   000040   8E82         MOV     DPL,R6
   \   000042   8F83         MOV     DPH,R7
   \   000044   A3           INC     DPTR
   \   000045   A3           INC     DPTR
   \   000046   E0           MOVX    A,@DPTR
   \   000047   F5..         MOV     ?V0 + 8,A
   \   000049   E4           CLR     A
   \   00004A   F5..         MOV     ?V0 + 9,A
   \   00004C   7410         MOV     A,#0x10
   \   00004E   78..         MOV     R0,#?V0 + 8
   \   000050   12....       LCALL   ?L_SHL
   \   000053   78..         MOV     R0,#?V0 + 0
   \   000055   79..         MOV     R1,#?V0 + 8
   \   000057   12....       LCALL   ?L_ADD
   \   00005A   8E82         MOV     DPL,R6
   \   00005C   8F83         MOV     DPH,R7
   \   00005E   A3           INC     DPTR
   \   00005F   A3           INC     DPTR
   \   000060   A3           INC     DPTR
   \   000061   E0           MOVX    A,@DPTR
   \   000062   F5..         MOV     ?V0 + 8,A
   \   000064   E4           CLR     A
   \   000065   F5..         MOV     ?V0 + 10,A
   \   000067   7418         MOV     A,#0x18
   \   000069   78..         MOV     R0,#?V0 + 8
   \   00006B   12....       LCALL   ?L_SHL
   \   00006E   78..         MOV     R0,#?V0 + 0
   \   000070   79..         MOV     R1,#?V0 + 8
   \   000072   12....       LCALL   ?L_ADD
   \   000075   800B         SJMP    ??MT_AfDataRetrieve_0
    846          
    847            while (pItem != NULL)
    848            {
    849              pPrev = pItem;
    850              if (pItem->timestamp == timestamp)
    851              {
    852                break;
    853              }
    854              pItem = pItem->next;
   \                     ??MT_AfDataRetrieve_1:
   \   000077   8C82         MOV     DPL,R4
   \   000079   8D83         MOV     DPH,R5
   \   00007B   E0           MOVX    A,@DPTR
   \   00007C   F5..         MOV     ?V0 + 6,A
   \   00007E   A3           INC     DPTR
   \   00007F   E0           MOVX    A,@DPTR
   \   000080   F5..         MOV     ?V0 + 7,A
   \                     ??MT_AfDataRetrieve_0:
   \   000082   E5..         MOV     A,?V0 + 6
   \   000084   45..         ORL     A,?V0 + 7
   \   000086   6056         JZ      ??MT_AfDataRetrieve_2
   \   000088   AC..         MOV     R4,?V0 + 6
   \   00008A   AD..         MOV     R5,?V0 + 7
   \   00008C   8C82         MOV     DPL,R4
   \   00008E   8D83         MOV     DPH,R5
   \   000090   A3           INC     DPTR
   \   000091   A3           INC     DPTR
   \   000092   A3           INC     DPTR
   \   000093   A3           INC     DPTR
   \   000094   78..         MOV     R0,#?V0 + 0
   \   000096   12....       LCALL   ?L_EQ_X
   \   000099   70DC         JNZ     ??MT_AfDataRetrieve_1
    855            }
    856          
    857            if (pItem != NULL)
    858            {
    859              uint16 idx;
    860              uint8 *pRsp;
    861          
    862              pBuf += 4;
   \   00009B   EE           MOV     A,R6
   \   00009C   2404         ADD     A,#0x4
   \   00009E   FE           MOV     R6,A
   \   00009F   EF           MOV     A,R7
   \   0000A0   3400         ADDC    A,#0x0
   \   0000A2   FF           MOV     R7,A
    863              idx = BUILD_UINT16(pBuf[0], pBuf[1]);
   \   0000A3   12....       LCALL   ?Subroutine15 & 0xFFFF
   \                     ??CrossCallReturnLabel_122:
   \   0000A6   F5..         MOV     ?V0 + 2,A
   \   0000A8   E4           CLR     A
   \   0000A9   39           ADDC    A,R1
   \   0000AA   F5..         MOV     ?V0 + 3,A
    864              len = pBuf[2];
   \   0000AC   8E82         MOV     DPL,R6
   \   0000AE   8F83         MOV     DPH,R7
   \   0000B0   A3           INC     DPTR
   \   0000B1   A3           INC     DPTR
   \   0000B2   E0           MOVX    A,@DPTR
   \   0000B3   F5..         MOV     ?V0 + 4,A
    865          
    866              if (len == 0)  // Indication to delete the afIncomingMSGPacket.
   \   0000B5   7043         JNZ     ??MT_AfDataRetrieve_3
    867              {
    868                if (pMtAfInMsgList == pItem)
   \   0000B7   8C82         MOV     DPL,R4
   \   0000B9   8D83         MOV     DPH,R5
   \   0000BB   12....       LCALL   ?Subroutine21 & 0xFFFF
   \                     ??CrossCallReturnLabel_26:
   \   0000BE   12....       LCALL   ??Subroutine64_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_148:
   \   0000C1   EC           MOV     A,R4
   \   0000C2   6A           XRL     A,R2
   \   0000C3   7002         JNZ     ??MT_AfDataRetrieve_4
   \   0000C5   ED           MOV     A,R5
   \   0000C6   6B           XRL     A,R3
   \                     ??MT_AfDataRetrieve_4:
   \   0000C7   7005         JNZ     ??MT_AfDataRetrieve_5
    869                {
    870                  pMtAfInMsgList = pItem->next;
   \   0000C9   90....       MOV     DPTR,#pMtAfInMsgList
   \   0000CC   8004         SJMP    ??MT_AfDataRetrieve_6
    871                }
    872                else
    873                {
    874                  pPrev->next = pItem->next;
   \                     ??MT_AfDataRetrieve_5:
   \   0000CE   8C82         MOV     DPL,R4
   \   0000D0   8D83         MOV     DPH,R5
    875                }
   \                     ??MT_AfDataRetrieve_6:
   \   0000D2   12....       LCALL   ?Subroutine32 & 0xFFFF
    876                (void)osal_mem_free(pItem);
   \                     ??CrossCallReturnLabel_52:
   \   0000D5                ; Setup parameters for call to function osal_mem_free
   \   0000D5   AA..         MOV     R2,?V0 + 6
   \   0000D7   AB..         MOV     R3,?V0 + 7
   \   0000D9   12....       LCALL   ??osal_mem_free?relay
    877                rtrn = afStatus_SUCCESS;
   \   0000DC   7A00         MOV     R2,#0x0
    878              }
    879              else if ((pRsp = osal_mem_alloc(len + MT_AF_RTV_HDR_SZ)) == NULL)
    880              {
    881                rtrn = afStatus_MEM_FAIL;
    882                len = 0;
    883              }
    884              else
    885              {
    886                pRsp[0] = ZSuccess;
    887                pRsp[1] = len;
    888                (void)osal_memcpy(pRsp + MT_AF_RTV_HDR_SZ, pItem->data+idx, len);
    889                MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_AF),
    890                                                     MT_AF_DATA_RETRIEVE, len + MT_AF_RTV_HDR_SZ, pRsp);
    891                (void)osal_mem_free(pRsp);
    892                return;
    893              }
    894            }
    895          
    896            pBuf[0] = rtrn;
   \                     ??MT_AfDataRetrieve_2:
   \   0000DE   EA           MOV     A,R2
   \   0000DF   8E82         MOV     DPL,R6
   \   0000E1   8F83         MOV     DPH,R7
   \   0000E3   F0           MOVX    @DPTR,A
    897            pBuf[1] = len;
   \   0000E4   A3           INC     DPTR
   \   0000E5   E5..         MOV     A,?V0 + 4
   \   0000E7   F0           MOVX    @DPTR,A
    898            MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_AF),
    899                                                 MT_AF_DATA_RETRIEVE, MT_AF_RTV_HDR_SZ, pBuf);
   \   0000E8                ; Setup parameters for call to function MT_BuildAndSendZToolResponse
   \   0000E8   EE           MOV     A,R6
   \   0000E9   FC           MOV     R4,A
   \   0000EA   EF           MOV     A,R7
   \   0000EB   FD           MOV     R5,A
   \   0000EC   7B02         MOV     R3,#0x2
   \   0000EE   7A12         MOV     R2,#0x12
   \   0000F0   7964         MOV     R1,#0x64
   \   0000F2   12....       LCALL   ??MT_BuildAndSendZToolResponse?relay
    900          }
   \                     ??MT_AfDataRetrieve_7:
   \   0000F5   7F0C         MOV     R7,#0xc
   \   0000F7   02....       LJMP    ?BANKED_LEAVE_XDATA
   \                     ??MT_AfDataRetrieve_3:
   \   0000FA                ; Setup parameters for call to function osal_mem_alloc
   \   0000FA   2402         ADD     A,#0x2
   \   0000FC   FA           MOV     R2,A
   \   0000FD   E4           CLR     A
   \   0000FE   3400         ADDC    A,#0x0
   \   000100   FB           MOV     R3,A
   \   000101   12....       LCALL   ??osal_mem_alloc?relay
   \   000104   8A..         MOV     ?V0 + 0,R2
   \   000106   8B..         MOV     ?V0 + 1,R3
   \   000108   EA           MOV     A,R2
   \   000109   45..         ORL     A,?V0 + 1
   \   00010B   7007         JNZ     ??MT_AfDataRetrieve_8
   \   00010D   7A10         MOV     R2,#0x10
   \   00010F   75..00       MOV     ?V0 + 4,#0x0
   \   000112   80CA         SJMP    ??MT_AfDataRetrieve_2
   \                     ??MT_AfDataRetrieve_8:
   \   000114   8A82         MOV     DPL,R2
   \   000116   8B83         MOV     DPH,R3
   \   000118   E4           CLR     A
   \   000119   F0           MOVX    @DPTR,A
   \   00011A   A3           INC     DPTR
   \   00011B   E5..         MOV     A,?V0 + 4
   \   00011D   F0           MOVX    @DPTR,A
   \   00011E                ; Setup parameters for call to function osal_memcpy
   \   00011E   85..82       MOV     DPL,?V0 + 6
   \   000121   85..83       MOV     DPH,?V0 + 7
   \   000124   A3           INC     DPTR
   \   000125   A3           INC     DPTR
   \   000126   E0           MOVX    A,@DPTR
   \   000127   25..         ADD     A,?V0 + 2
   \   000129   F5..         MOV     ?V0 + 8,A
   \   00012B   A3           INC     DPTR
   \   00012C   E0           MOVX    A,@DPTR
   \   00012D   35..         ADDC    A,?V0 + 3
   \   00012F   F5..         MOV     ?V0 + 9,A
   \   000131   78..         MOV     R0,#?V0 + 8
   \   000133   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   000136   85....       MOV     ?V0 + 2,?V0 + 4
   \   000139   AC..         MOV     R4,?V0 + 2
   \   00013B   7D00         MOV     R5,#0x0
   \   00013D   EA           MOV     A,R2
   \   00013E   2402         ADD     A,#0x2
   \   000140   FA           MOV     R2,A
   \   000141   EB           MOV     A,R3
   \   000142   3400         ADDC    A,#0x0
   \   000144   FB           MOV     R3,A
   \   000145   12....       LCALL   ??osal_memcpy?relay
   \   000148   7403         MOV     A,#0x3
   \   00014A   12....       LCALL   ?DEALLOC_XSTACK8
   \   00014D                ; Setup parameters for call to function MT_BuildAndSendZToolResponse
   \   00014D   AC..         MOV     R4,?V0 + 0
   \   00014F   AD..         MOV     R5,?V0 + 1
   \   000151   7402         MOV     A,#0x2
   \   000153   25..         ADD     A,?V0 + 4
   \   000155   FB           MOV     R3,A
   \   000156   7A12         MOV     R2,#0x12
   \   000158   7964         MOV     R1,#0x64
   \   00015A   12....       LCALL   ??MT_BuildAndSendZToolResponse?relay
   \   00015D                ; Setup parameters for call to function osal_mem_free
   \   00015D   AA..         MOV     R2,?V0 + 0
   \   00015F   AB..         MOV     R3,?V0 + 1
   \   000161   12....       LCALL   ??osal_mem_free?relay
   \   000164   808F         SJMP    ??MT_AfDataRetrieve_7
    901          
    902          /**************************************************************************************************
    903           * @fn          MT_AfDataStore
    904           *
    905           * @brief   Process AF Data Store command to incrementally store the data buffer for very large
    906           *          outgoing AF message.
    907           *
    908           * input parameters
    909           *
    910           * @param pBuf - pointer to the received buffer
    911           *
    912           * output parameters
    913           *
    914           * @param rtrn - AF-Status of the operation.
    915           *
    916           * @return      None.
    917           **************************************************************************************************
    918           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    919          void MT_AfDataStore(uint8 *pBuf)
   \                     MT_AfDataStore:
    920          {
   \   000000   74F2         MOV     A,#-0xe
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 14
   \   000005                ; Auto size: 1
   \   000005   74FF         MOV     A,#-0x1
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
    921            uint16 idx;
    922            uint8 len, rtrn = afStatus_FAILED;
   \   00000A   85..82       MOV     DPL,?XSP + 0
   \   00000D   85..83       MOV     DPH,?XSP + 1
   \   000010   7401         MOV     A,#0x1
   \   000012   F0           MOVX    @DPTR,A
    923          
    924            pBuf += MT_RPC_FRAME_HDR_SZ;
   \   000013   EA           MOV     A,R2
   \   000014   2403         ADD     A,#0x3
   \   000016   FA           MOV     R2,A
   \   000017   EB           MOV     A,R3
   \   000018   3400         ADDC    A,#0x0
   \   00001A   FB           MOV     R3,A
    925            idx = BUILD_UINT16(pBuf[0], pBuf[1]);
   \   00001B   8A82         MOV     DPL,R2
   \   00001D   8B83         MOV     DPH,R3
   \   00001F   E0           MOVX    A,@DPTR
   \   000020   FC           MOV     R4,A
   \   000021   A3           INC     DPTR
   \   000022   E0           MOVX    A,@DPTR
   \   000023   F9           MOV     R1,A
   \   000024   EC           MOV     A,R4
   \   000025   2400         ADD     A,#0x0
   \   000027   FE           MOV     R6,A
   \   000028   E4           CLR     A
   \   000029   39           ADDC    A,R1
   \   00002A   FF           MOV     R7,A
    926            len = pBuf[2];
   \   00002B   8A82         MOV     DPL,R2
   \   00002D   8B83         MOV     DPH,R3
   \   00002F   A3           INC     DPTR
   \   000030   A3           INC     DPTR
   \   000031   E0           MOVX    A,@DPTR
   \   000032   FC           MOV     R4,A
    927            pBuf += 3;
   \   000033   EA           MOV     A,R2
   \   000034   2403         ADD     A,#0x3
   \   000036   FA           MOV     R2,A
   \   000037   EB           MOV     A,R3
   \   000038   3400         ADDC    A,#0x0
   \   00003A   FB           MOV     R3,A
    928          
    929            if (pMtAfDataReq == NULL)
   \   00003B   12....       LCALL   ?Subroutine5 & 0xFFFF
   \                     ??CrossCallReturnLabel_113:
   \   00003E   700B         JNZ     ??MT_AfDataStore_0
    930            {
    931              rtrn = afStatus_MEM_FAIL;
   \   000040   85..82       MOV     DPL,?XSP + 0
   \   000043   85..83       MOV     DPH,?XSP + 1
   \   000046   7410         MOV     A,#0x10
   \   000048   02....       LJMP    ??MT_AfDataStore_1 & 0xFFFF
    932            }
    933            else if (len == 0)  // Indication to send the message.
   \                     ??MT_AfDataStore_0:
   \   00004B   12....       LCALL   ?Subroutine22 & 0xFFFF
   \                     ??CrossCallReturnLabel_28:
   \   00004E   12....       LCALL   ?Subroutine44 & 0xFFFF
   \                     ??CrossCallReturnLabel_70:
   \   000051   EC           MOV     A,R4
   \   000052   7060         JNZ     ??MT_AfDataStore_2
    934            {
    935              rtrn = AF_DataRequest(&(pMtAfDataReq->dstAddr), pMtAfDataReq->epDesc, pMtAfDataReq->cId,
    936                                      pMtAfDataReq->dataLen,  pMtAfDataReq->data,
    937                                    &(pMtAfDataReq->transId), pMtAfDataReq->txOpts, pMtAfDataReq->radius);
   \   000054                ; Setup parameters for call to function AF_DataRequest
   \   000054   90....       MOV     DPTR,#pMtAfDataReq + 1
   \   000057   12....       LCALL   ?Subroutine17 & 0xFFFF
   \                     ??CrossCallReturnLabel_20:
   \   00005A   E0           MOVX    A,@DPTR
   \   00005B   F5..         MOV     ?V0 + 0,A
   \   00005D   78..         MOV     R0,#?V0 + 0
   \   00005F   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000062   90....       MOV     DPTR,#pMtAfDataReq
   \   000065   E0           MOVX    A,@DPTR
   \   000066   2414         ADD     A,#0x14
   \   000068   F5..         MOV     ?V0 + 0,A
   \   00006A   A3           INC     DPTR
   \   00006B   E0           MOVX    A,@DPTR
   \   00006C   3400         ADDC    A,#0x0
   \   00006E   F5..         MOV     ?V0 + 1,A
   \   000070   78..         MOV     R0,#?V0 + 0
   \   000072   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000075   78..         MOV     R0,#?V0 + 4
   \   000077   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00007A   12....       LCALL   ?Subroutine13 & 0xFFFF
   \                     ??CrossCallReturnLabel_13:
   \   00007D   12....       LCALL   ?PUSH_XSTACK8_X_TWO
   \   000080   12....       LCALL   ?Subroutine12 & 0xFFFF
   \                     ??CrossCallReturnLabel_11:
   \   000083   12....       LCALL   ?PUSH_XSTACK8_X_TWO
   \   000086   12....       LCALL   ?Subroutine14 & 0xFFFF
   \                     ??CrossCallReturnLabel_15:
   \   000089   E0           MOVX    A,@DPTR
   \   00008A   F9           MOV     R1,A
   \   00008B   12....       LCALL   ?Subroutine11 & 0xFFFF
   \                     ??CrossCallReturnLabel_9:
   \   00008E   E0           MOVX    A,@DPTR
   \   00008F   FC           MOV     R4,A
   \   000090   A3           INC     DPTR
   \   000091   E0           MOVX    A,@DPTR
   \   000092   FD           MOV     R5,A
   \   000093   12....       LCALL   ?Subroutine20 & 0xFFFF
   \                     ??CrossCallReturnLabel_24:
   \   000096   12....       LCALL   ??AF_DataRequest?relay
   \   000099   7409         MOV     A,#0x9
   \   00009B   12....       LCALL   ?DEALLOC_XSTACK8
   \   00009E   E9           MOV     A,R1
   \   00009F   85..82       MOV     DPL,?XSP + 0
   \   0000A2   85..83       MOV     DPH,?XSP + 1
   \   0000A5   F0           MOVX    @DPTR,A
    938              (void)osal_mem_free(pMtAfDataReq);
   \   0000A6                ; Setup parameters for call to function osal_mem_free
   \   0000A6   12....       LCALL   ?Subroutine7 & 0xFFFF
   \                     ??CrossCallReturnLabel_150:
   \   0000A9   12....       LCALL   ??osal_mem_free?relay
    939              pMtAfDataReq = NULL;
   \   0000AC   90....       MOV     DPTR,#pMtAfDataReq
   \   0000AF   E4           CLR     A
   \   0000B0   F0           MOVX    @DPTR,A
   \   0000B1   A3           INC     DPTR
   \   0000B2   8025         SJMP    ??MT_AfDataStore_1
    940            }
    941            else
    942            {
    943              (void)osal_memcpy(pMtAfDataReq->data+idx, pBuf, len);
   \                     ??MT_AfDataStore_2:
   \   0000B4                ; Setup parameters for call to function osal_memcpy
   \   0000B4   8A..         MOV     ?V0 + 0,R2
   \   0000B6   8B..         MOV     ?V0 + 1,R3
   \   0000B8   75..00       MOV     ?V0 + 2,#0x0
   \   0000BB   78..         MOV     R0,#?V0 + 0
   \   0000BD   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   0000C0   7D00         MOV     R5,#0x0
   \   0000C2   E5..         MOV     A,?V0 + 4
   \   0000C4   2E           ADD     A,R6
   \   0000C5   FA           MOV     R2,A
   \   0000C6   E5..         MOV     A,?V0 + 5
   \   0000C8   3F           ADDC    A,R7
   \   0000C9   FB           MOV     R3,A
   \   0000CA   12....       LCALL   ??osal_memcpy?relay
   \   0000CD   7403         MOV     A,#0x3
   \   0000CF   12....       LCALL   ?DEALLOC_XSTACK8
    944              rtrn = afStatus_SUCCESS;
   \   0000D2   85..82       MOV     DPL,?XSP + 0
   \   0000D5   85..83       MOV     DPH,?XSP + 1
   \   0000D8   E4           CLR     A
    945            }
   \                     ??MT_AfDataStore_1:
   \   0000D9   12....       LCALL   ?Subroutine29 & 0xFFFF
    946          
    947            MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_AF),
    948                                                                          MT_AF_DATA_STORE, 1, &rtrn);
   \                     ??CrossCallReturnLabel_37:
   \   0000DC   7B01         MOV     R3,#0x1
   \   0000DE   7A11         MOV     R2,#0x11
   \   0000E0   02....       LJMP    ?Subroutine1 & 0xFFFF
    949          }

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??MT_AfExec?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    MT_AfExec

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??MT_AfCommandProcessing?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    MT_AfCommandProcessing

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??MT_AfRegister?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    MT_AfRegister

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??MT_AfDelete?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    MT_AfDelete

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??MT_AfDataRequest?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    MT_AfDataRequest

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??MT_AfDataRequestSrcRtg?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    MT_AfDataRequestSrcRtg

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??MT_AfInterPanCtl?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    MT_AfInterPanCtl

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??MT_AfDataConfirm?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    MT_AfDataConfirm

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??MT_AfReflectError?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    MT_AfReflectError

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??MT_AfIncomingMsg?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    MT_AfIncomingMsg

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??MT_AfDataRetrieve?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    MT_AfDataRetrieve

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??MT_AfDataStore?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    MT_AfDataStore

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant {0, 0}>`:
   \   000000   00           DB 0
   \   000001   00           DB 0

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_3e8:
   \   000000   E8030000     DD 1000
    950          
    951          /**************************************************************************************************
    952           * @fn          MT_AfAPSF_ConfigSet
    953           *
    954           * @brief       This function is the MT proxy for afAPSF_ConfigSet().
    955           *
    956           * input parameters
    957           *
    958           * @param       pBuf - Pointer to the received buffer.
    959           *
    960           * output parameters
    961           *
    962           * None.
    963           *
    964           * @return      None.
    965           */
    966          static void MT_AfAPSF_ConfigSet(uint8 *pBuf)
    967          {
    968            afAPSF_Config_t cfg = { pBuf[MT_RPC_POS_DAT0+1], pBuf[MT_RPC_POS_DAT0+2] };
    969            afStatus_t rtrn = afAPSF_ConfigSet(pBuf[MT_RPC_POS_DAT0], &cfg);
    970          
    971            MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_AF),
    972                                                 MT_AF_APSF_CONFIG_SET, 1, (uint8 *)&rtrn);
    973          }
    974          
    975          /**************************************************************************************************
    976           * @fn          MT_AfAPSF_ConfigGet
    977           *
    978           * @brief       This function is the MT proxy for afAPSF_ConfigGet().
    979           *
    980           * input parameters
    981           *
    982           * @param       pBuf - Pointer to the received buffer.
    983           *
    984           * output parameters
    985           *
    986           * None.
    987           *
    988           * @return      None.
    989           */
    990          static void MT_AfAPSF_ConfigGet(uint8 *pBuf)
    991          {
    992            afAPSF_Config_t cfg = { 0, 0 };
    993            uint8 buf[3];
    994            
    995            afStatus_t rtrn = afAPSF_ConfigSet( pBuf[MT_RPC_POS_DAT0], &cfg );
    996            
    997            buf[0] = rtrn;
    998            buf[1] = cfg.frameDelay;
    999            buf[2] = cfg.windowSize;
   1000          
   1001            MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_AF),
   1002                                                 MT_AF_APSF_CONFIG_GET, 3, buf );
   1003          }
   1004          
   1005          /***************************************************************************************************
   1006          ***************************************************************************************************/

   Maximum stack usage in bytes:

   ISTACK PSTACK XSTACK Function
   ------ ------ ------ --------
       2      0     15  MT_AfCommandProcessing
                          0 0 15 -> MT_AfDataRequest
                          0 0 15 -> MT_AfDataRequestSrcRtg
                          0 0 15 -> MT_AfDataRetrieve
                          0 0 15 -> MT_AfDataStore
                          0 0 15 -> MT_AfDelete
                          0 0 15 -> MT_AfInterPanCtl
                          0 0 15 -> MT_AfRegister
                          0 0 15 -> MT_BuildAndSendZToolResponse
                          0 0 15 -> afAPSF_ConfigSet
       3      0      3  MT_AfDataConfirm
                          2 0  3 -> MT_BuildAndSendZToolResponse
       1      0     60  MT_AfDataRequest
                          0 0 45 -> AF_DataRequest
                          0 0 36 -> MT_BuildAndSendZToolResponse
                          0 0 36 -> afFindEndPointDesc
                          0 0 36 -> osal_mem_alloc
                          0 0 39 -> osal_memcpy
                          0 0 36 -> osal_set_event
                          0 0 40 -> osal_start_timerEx
       1      0     63  MT_AfDataRequestSrcRtg
                          0 0 48 -> AF_DataRequestSrcRtg
                          0 0 36 -> MT_BuildAndSendZToolResponse
                          0 0 36 -> afFindEndPointDesc
                          0 0 36 -> osal_mem_alloc
                          0 0 36 -> osal_mem_free
                          0 0 36 -> osal_memset
       1      0     38  MT_AfDataRetrieve
                          0 0 20 -> MT_BuildAndSendZToolResponse
                          0 0 20 -> osal_mem_alloc
                          0 0 20 -> osal_mem_free
                          0 0 23 -> osal_memcpy
       1      0     39  MT_AfDataStore
                          0 0 24 -> AF_DataRequest
                          0 0 15 -> MT_BuildAndSendZToolResponse
                          0 0 15 -> osal_mem_free
                          0 0 18 -> osal_memcpy
       1      0     25  MT_AfDelete
                          0 0 10 -> MT_BuildAndSendZToolResponse
                          0 0 10 -> afDelete
       0      0     13  MT_AfExec
                          0 0  9 -> osal_mem_free
                          0 0  9 -> osal_set_event
                          0 0 13 -> osal_start_timerEx
       1      0     31  MT_AfIncomingMsg
                          0 0 27 -> MT_BuildAndSendZToolResponse
                          0 0 27 -> StubAPS_InterPan
                          0 0 27 -> osal_mem_alloc
                          0 0 27 -> osal_mem_free
                          0 0 30 -> osal_memcpy
                          0 0 27 -> osal_set_event
                          0 0 31 -> osal_start_timerEx
       1      0     27  MT_AfInterPanCtl
                          0 0 12 -> MT_BuildAndSendZToolResponse
                          0 0 12 -> StubAPS_InterPan
                          0 0 12 -> StubAPS_RegisterApp
                          0 0 12 -> StubAPS_SetInterPanChannel
                          0 0 12 -> StubAPS_SetIntraPanChannel
                          0 0 12 -> afFindEndPointDesc
       3      0      6  MT_AfReflectError
                          2 0  6 -> MT_BuildAndSendZToolResponse
       1      0     30  MT_AfRegister
                          0 0 15 -> MT_BuildAndSendZToolResponse
                          0 0 15 -> MT_BuildEndpointDesc
                          0 0 15 -> afRegister
                          0 0 15 -> osal_mem_alloc
                          0 0 15 -> osal_mem_free


   Segment part sizes:

   Bytes  Function/Label
   -----  --------------
       2  ?<Constant {0, 0}>
       6  ??MT_AfCommandProcessing?relay
       6  ??MT_AfDataConfirm?relay
       6  ??MT_AfDataRequest?relay
       6  ??MT_AfDataRequestSrcRtg?relay
       6  ??MT_AfDataRetrieve?relay
       6  ??MT_AfDataStore?relay
       6  ??MT_AfDelete?relay
       6  ??MT_AfExec?relay
       6  ??MT_AfIncomingMsg?relay
       6  ??MT_AfInterPanCtl?relay
       6  ??MT_AfReflectError?relay
       6  ??MT_AfRegister?relay
       5  ??Subroutine53_0
       9  ??Subroutine54_0
       3  ??Subroutine55_0
       5  ??Subroutine56_0
       6  ??Subroutine57_0
      11  ??Subroutine58_0
       7  ??Subroutine59_0
       9  ??Subroutine60_0
      12  ??Subroutine61_0
       6  ??Subroutine62_0
       6  ??Subroutine63_0
       6  ??Subroutine64_0
       3  ?Subroutine0
      15  ?Subroutine1
      11  ?Subroutine10
       9  ?Subroutine11
       9  ?Subroutine12
       9  ?Subroutine13
       9  ?Subroutine14
       4  ?Subroutine15
       4  ?Subroutine16
       8  ?Subroutine17
       3  ?Subroutine18
      12  ?Subroutine19
      10  ?Subroutine2
      13  ?Subroutine20
       7  ?Subroutine21
      12  ?Subroutine22
       4  ?Subroutine23
       3  ?Subroutine24
      12  ?Subroutine25
      10  ?Subroutine26
       5  ?Subroutine27
       8  ?Subroutine28
       8  ?Subroutine29
      10  ?Subroutine3
       4  ?Subroutine30
      10  ?Subroutine31
       6  ?Subroutine32
      12  ?Subroutine33
       5  ?Subroutine34
       5  ?Subroutine35
       7  ?Subroutine36
      12  ?Subroutine37
      13  ?Subroutine38
       4  ?Subroutine39
       7  ?Subroutine4
       8  ?Subroutine40
      10  ?Subroutine41
      11  ?Subroutine42
       3  ?Subroutine43
       8  ?Subroutine44
       9  ?Subroutine45
       8  ?Subroutine46
       9  ?Subroutine47
       6  ?Subroutine48
       6  ?Subroutine49
       3  ?Subroutine5
       9  ?Subroutine50
       9  ?Subroutine51
       7  ?Subroutine52
      10  ?Subroutine6
       3  ?Subroutine7
      16  ?Subroutine8
       4  ?Subroutine9
     258  MT_AfCommandProcessing
      47  MT_AfDataConfirm
     680  MT_AfDataRequest
     387  MT_AfDataRequestSrcRtg
     358  MT_AfDataRetrieve
     227  MT_AfDataStore
      44  MT_AfDelete
     167  MT_AfExec
     795  MT_AfIncomingMsg
     175  MT_AfInterPanCtl
      96  MT_AfReflectError
     116  MT_AfRegister
       4  __Constant_3e8
       2  pMtAfDataReq
       2  pMtAfInMsgList

 
 3 857 bytes in segment BANKED_CODE
    72 bytes in segment BANK_RELAYS
     6 bytes in segment XDATA_ROM_C
     4 bytes in segment XDATA_Z
 
 3 929 bytes of CODE  memory
     2 bytes of CONST memory (+ 4 bytes shared)
     4 bytes of XDATA memory

Errors: none
Warnings: none
